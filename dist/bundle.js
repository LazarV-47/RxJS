(()=>{"use strict";var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function n(t,e){var n,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(c=0)),c;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!((i=(i=c.trys).length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){c.label=u[1];break}if(6===u[0]&&c.label<i[1]){c.label=i[1],i=u;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(u);break}i[2]&&c.ops.pop(),c.trys.pop();continue}u=e.call(t,c)}catch(t){u=[6,t],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}}function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)c.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return c}function o(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}function c(t){return this instanceof c?(this.v=t,this):new c(t)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var u=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function a(t){return"function"==typeof t}function s(t){return a(null==t?void 0:t.then)}var l,d=((l=function(t){var e;e=this,Error.call(e),e.stack=(new Error).stack,this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}).prototype=Object.create(Error.prototype),l.prototype.constructor=l,l);function f(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var p=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){var t,e,n,c,u;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var l=r(s),f=l.next();!f.done;f=l.next())f.value.remove(this)}catch(e){t={error:e}}finally{try{f&&!f.done&&(e=l.return)&&e.call(l)}finally{if(t)throw t.error}}else s.remove(this);var p=this.initialTeardown;if(a(p))try{p()}catch(t){u=t instanceof d?t.errors:[t]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var m=r(h),b=m.next();!b.done;b=m.next()){var y=b.value;try{v(y)}catch(t){u=null!=u?u:[],t instanceof d?u=o(o([],i(u)),i(t.errors)):u.push(t)}}}catch(t){n={error:t}}finally{try{b&&!b.done&&(c=m.return)&&c.call(m)}finally{if(n)throw n.error}}}if(u)throw new d(u)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)v(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&f(e,t)},t.prototype.remove=function(e){var n=this._finalizers;n&&f(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t;var e}();function h(t){return t instanceof p||t&&"closed"in t&&a(t.remove)&&a(t.add)&&a(t.unsubscribe)}function v(t){a(t)?t():t.unsubscribe()}p.EMPTY;var m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var c=b.delegate;return(null==c?void 0:c.setTimeout)?c.setTimeout.apply(c,o([t,e],i(n))):setTimeout.apply(void 0,o([t,e],i(n)))},clearTimeout:function(t){var e=b.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function y(t){b.setTimeout((function(){var e=m.onUnhandledError;if(!e)throw t;e(t)}))}function g(){}var w=x("C",void 0,void 0);function x(t,e,n){return{kind:t,value:e,error:n}}var E=null,C=function(t){function n(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,h(e)&&e.add(n)):n.destination=D,n}return e(n,t),n.create=function(t,e,n){return new T(t,e,n)},n.prototype.next=function(t){this.isStopped?_(function(t){return x("N",t,void 0)}(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?_(x("E",void 0,t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?_(w,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(p),S=Function.prototype.bind;function k(t,e){return S.call(t,e)}var L=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){A(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){A(t)}else A(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){A(t)}},t}(),T=function(t){function n(e,n,r){var i,o,c=t.call(this)||this;return a(e)||!e?i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:c&&m.useDeprecatedNextContext?((o=Object.create(e)).unsubscribe=function(){return c.unsubscribe()},i={next:e.next&&k(e.next,o),error:e.error&&k(e.error,o),complete:e.complete&&k(e.complete,o)}):i=e,c.destination=new L(i),c}return e(n,t),n}(C);function A(t){var e;m.useDeprecatedSynchronousErrorHandling?(e=t,m.useDeprecatedSynchronousErrorHandling&&E&&(E.errorThrown=!0,E.error=e)):y(t)}function _(t,e){var n=m.onStoppedNotification;n&&b.setTimeout((function(){return n(t,e)}))}var D={closed:!0,next:g,error:function(t){throw t},complete:g},B="function"==typeof Symbol&&Symbol.observable||"@@observable";function I(t){return t}var P=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,i=this,o=(r=t)&&r instanceof C||function(t){return t&&a(t.next)&&a(t.error)&&a(t.complete)}(r)&&h(r)?t:new T(t,e,n);return function(t){if(m.useDeprecatedSynchronousErrorHandling){var e=!E;if(e&&(E={errorThrown:!1,error:null}),t(),e){var n=E,r=n.errorThrown,i=n.error;if(E=null,r)throw i}}else t()}((function(){var t=i,e=t.operator,n=t.source;o.add(e?e.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=N(e))((function(e,r){var i=new T({next:function(e){try{t(e)}catch(t){r(t),i.unsubscribe()}},error:r,complete:e});n.subscribe(i)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[B]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0===(n=t).length?I:1===n.length?n[0]:function(t){return n.reduce((function(t,e){return e(t)}),t)})(this);var n},t.prototype.toPromise=function(t){var e=this;return new(t=N(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function N(t){var e;return null!==(e=null!=t?t:m.Promise)&&void 0!==e?e:Promise}function O(t){return a(t[B])}function j(t){return Symbol.asyncIterator&&a(null==t?void 0:t[Symbol.asyncIterator])}function M(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var H="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function R(t){return a(null==t?void 0:t[H])}function z(t){return function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},u("next"),u("throw"),u("return",(function(t){return function(e){return Promise.resolve(e).then(t,l)}})),r[Symbol.asyncIterator]=function(){return this},r;function u(t,e){i[t]&&(r[t]=function(e){return new Promise((function(n,r){o.push([t,e,n,r])>1||a(t,e)}))},e&&(r[t]=e(r[t])))}function a(t,e){try{(n=i[t](e)).value instanceof c?Promise.resolve(n.value.v).then(s,l):d(o[0][2],n)}catch(t){d(o[0][3],t)}var n}function s(t){a("next",t)}function l(t){a("throw",t)}function d(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,(function(){var e,r,i;return n(this,(function(n){switch(n.label){case 0:e=t.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,c(e.read())];case 3:return r=n.sent(),i=r.value,r.done?[4,c(void 0)]:[3,5];case 4:return[2,n.sent()];case 5:return[4,c(i)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function U(t){return a(null==t?void 0:t.getReader)}function q(t){if(t instanceof P)return t;if(null!=t){if(O(t))return o=t,new P((function(t){var e=o[B]();if(a(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(u(t))return i=t,new P((function(t){for(var e=0;e<i.length&&!t.closed;e++)t.next(i[e]);t.complete()}));if(s(t))return n=t,new P((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,y)}));if(j(t))return Y(t);if(R(t))return e=t,new P((function(t){var n,i;try{for(var o=r(e),c=o.next();!c.done;c=o.next()){var u=c.value;if(t.next(u),t.closed)return}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}t.complete()}));if(U(t))return Y(z(t))}var e,n,i,o;throw M(t)}function Y(t){return new P((function(e){(function(t,e){var i,o,c,u,a,s,l,d;return a=this,s=void 0,d=function(){var a,s;return n(this,(function(n){switch(n.label){case 0:n.trys.push([0,5,6,11]),i=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=r(t),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}(t),n.label=1;case 1:return[4,i.next()];case 2:if((o=n.sent()).done)return[3,4];if(a=o.value,e.next(a),e.closed)return[2];n.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=n.sent(),c={error:s},[3,11];case 6:return n.trys.push([6,,9,10]),o&&!o.done&&(u=i.return)?[4,u.call(i)]:[3,8];case 7:n.sent(),n.label=8;case 8:return[3,10];case 9:if(c)throw c.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))},new((l=void 0)||(l=Promise))((function(t,e){function n(t){try{i(d.next(t))}catch(t){e(t)}}function r(t){try{i(d.throw(t))}catch(t){e(t)}}function i(e){var i;e.done?t(e.value):(i=e.value,i instanceof l?i:new l((function(t){t(i)}))).then(n,r)}i((d=d.apply(a,s||[])).next())}))})(t,e).catch((function(t){return e.error(t)}))}))}function F(t){return function(e){if(function(t){return a(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function $(t,e,n,r,i){return new G(t,e,n,r,i)}var G=function(t){function n(e,n,r,i,o,c){var u=t.call(this,e)||this;return u.onFinalize=o,u.shouldUnsubscribe=c,u._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,u._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,u}return e(n,t),n.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}},n}(C);function X(t,e){return F((function(n,r){var i=null,o=0,c=!1,u=function(){return c&&!i&&r.complete()};n.subscribe($(r,(function(n){null==i||i.unsubscribe();var c=0,a=o++;q(t(n,a)).subscribe(i=$(r,(function(t){return r.next(e?e(n,t,a,c++):t)}),(function(){i=null,u()})))}),(function(){c=!0,u()})))}))}function J(t,e){return F((function(n,r){var i=0;n.subscribe($(r,(function(n){r.next(t.call(e,n,i++))})))}))}function K(t,e,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=e.schedule((function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(o),!i)return o}function Q(t,e){return void 0===e&&(e=0),F((function(n,r){n.subscribe($(r,(function(n){return K(r,t,(function(){return r.next(n)}),e)}),(function(){return K(r,t,(function(){return r.complete()}),e)}),(function(n){return K(r,t,(function(){return r.error(n)}),e)})))}))}function V(t,e){return void 0===e&&(e=0),F((function(n,r){r.add(t.schedule((function(){return n.subscribe(r)}),e))}))}function W(t,e){if(!t)throw new Error("Iterable cannot be null");return new P((function(n){K(n,e,(function(){var r=t[Symbol.asyncIterator]();K(n,e,(function(){r.next().then((function(t){t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function Z(t,e){return e?function(t,e){if(null!=t){if(O(t))return function(t,e){return q(t).pipe(V(e),Q(e))}(t,e);if(u(t))return function(t,e){return new P((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}(t,e);if(s(t))return function(t,e){return q(t).pipe(V(e),Q(e))}(t,e);if(j(t))return W(t,e);if(R(t))return function(t,e){return new P((function(n){var r;return K(n,e,(function(){r=t[H](),K(n,e,(function(){var t,e,i;try{e=(t=r.next()).value,i=t.done}catch(t){return void n.error(t)}i?n.complete():n.next(e)}),0,!0)})),function(){return a(null==r?void 0:r.return)&&r.return()}}))}(t,e);if(U(t))return function(t,e){return W(z(t),e)}(t,e)}throw M(t)}(t,e):q(t)}var tt=function(){function t(t){this.id=t.id||0,this.name=t.name||"",this.image=t.image||"",this.level=t.level||"",this.attribute=t.attribute||"",this.type=t.type||"",this.prevEvolutions=t.prevEvolutions||[],this.nextEvolutions=t.nextEvolutions||[]}return t.fetchByName=function(e){return void 0===e&&(e=""),Z(fetch("http://localhost:3000/digimons")).pipe(X((function(t){return t.json()})),J((function(n){return n.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())})).map((function(e){return new t(e)}))})))},t.fetchById=function(e){return Z(fetch("http://localhost:3000/digimons/".concat(e))).pipe(X((function(t){return t.json()})),J((function(e){return new t(e)})))},t.fetchSingleByName=function(e){return Z(fetch("http://localhost:3000/digimons")).pipe(X((function(t){return t.json()})),J((function(n){var r=n.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}));if(!r)throw new Error("Digimon not found");return new t(r)})))},t.prototype.getPreviousEvolutions=function(){return this.prevEvolutions},t.prototype.getNextEvolutions=function(){return this.nextEvolutions},t}();function et(t){return t&&a(t.schedule)}function nt(t){return t[t.length-1]}function rt(t){return et(nt(t))?t.pop():void 0}function it(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Z(t,rt(t))}var ot=function(){function t(t){var e=this;this.view=t,this.view.bindSearch().pipe(X((function(t){return tt.fetchByName(t)}))).subscribe((function(t){e.view.renderDigimons(t),e.bindDigimonSelectionAfterRender()})),this.view.bindResetClick().pipe(X((function(){return tt.fetchByName()}))).subscribe((function(t){e.view.renderDigimons(t),e.bindDigimonSelectionAfterRender()})),this.view.bindCheckboxes().pipe(X((function(t){return t.length?e.fetchByTypes(t):e.fetchAllDigimons()}))).subscribe((function(t){e.view.renderDigimons(t),e.bindDigimonSelectionAfterRender()})),this.view.bindDigimonClick().pipe(X((function(t){return t?tt.fetchById(t):it(null)}))).subscribe((function(t){t&&e.view.renderDigimonDetail(t)})),this.view.bindNavigationClick().pipe(X((function(t){return e.getCurrentDigimon(t).pipe(J((function(e){return{digimon:e,direction:t}})))})),X((function(t){var n=t.digimon,r=t.direction;return e.getEvolutionDigimon(n,r)}))).subscribe((function(t){t&&e.view.renderDigimonDetail(t)})),this.view.bindCompareClick().subscribe((function(){var t=e.view.getSelectedDigimons();if(t.length>=2&&t.length<=4){var n=t.map((function(t){return Number(t)}));e.view.showCompareModal(n)}else alert("Please select between 2 and 4 Digimon for comparison.")})),this.view.bindScrollToTopButtonEvents(),tt.fetchByName().subscribe((function(t){e.view.renderDigimons(t),e.bindDigimonSelectionAfterRender()}))}return t.prototype.fetchByTypes=function(t){return tt.fetchByName().pipe(J((function(e){return e.filter((function(e){return t.includes(e.type)}))})))},t.prototype.fetchAllDigimons=function(){return tt.fetchByName()},t.prototype.bindDigimonSelectionAfterRender=function(){this.selectedDigimon$=this.view.bindDigimonSelection()},t.prototype.getCurrentDigimon=function(t){if(!t)return it(null);var e=this.view.getDigimonList().querySelector(".digimon-detail");if(e){var n=parseInt(e.getAttribute("data-id")||"0");return tt.fetchById(n)}return it(null)},t.prototype.getEvolutionDigimon=function(t,e){if(!t)return it(null);var n="prev"===e?t.getPreviousEvolutions():t.getNextEvolutions();if(n.length>0){var r=n[0];return tt.fetchSingleByName(r)}return it(null)},t.prototype.handleComparison=function(){var t=this;this.selectedDigimon$.subscribe((function(e){e.length>=2&&e.length<=4?t.view.showCompareModal(e):alert("Please select between 2 and 4 Digimon for comparison.")}))},t}();function ct(t,e,n){return void 0===n&&(n=1/0),a(e)?ct((function(n,r){return J((function(t,i){return e(n,t,r,i)}))(q(t(n,r)))}),n):("number"==typeof e&&(n=e),F((function(e,r){return function(t,e,n,r,i,o,c,u){var a=[],s=0,l=0,d=!1,f=function(){!d||a.length||s||e.complete()},p=function(t){return s<r?h(t):a.push(t)},h=function(t){s++;var i=!1;q(n(t,l++)).subscribe($(e,(function(t){e.next(t)}),(function(){i=!0}),void 0,(function(){if(i)try{s--;for(;a.length&&s<r;)t=void 0,t=a.shift(),h(t);f()}catch(t){e.error(t)}var t})))};return t.subscribe($(e,p,(function(){d=!0,f()}))),function(){}}(e,r,t,n)})))}var ut=Array.isArray;function at(t){return J((function(e){return function(t,e){return ut(e)?t.apply(void 0,o([],i(e))):t(e)}(t,e)}))}var st=["addListener","removeListener"],lt=["addEventListener","removeEventListener"],dt=["on","off"];function ft(t,e,n,r){if(a(n)&&(r=n,n=void 0),r)return ft(t,e,n).pipe(at(r));var o=i(function(t){return a(t.addEventListener)&&a(t.removeEventListener)}(t)?lt.map((function(r){return function(i){return t[r](e,i,n)}})):function(t){return a(t.addListener)&&a(t.removeListener)}(t)?st.map(pt(t,e)):function(t){return a(t.on)&&a(t.off)}(t)?dt.map(pt(t,e)):[],2),c=o[0],s=o[1];if(!c&&u(t))return ct((function(t){return ft(t,e,n)}))(q(t));if(!c)throw new TypeError("Invalid event target");return new P((function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return c(e),function(){return s(e)}}))}function pt(t,e){return function(n){return function(r){return t[n](e,r)}}}var ht=new P((function(t){return t.complete()}));function vt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=rt(t),r=function(t,e){return"number"==typeof nt(t)?t.pop():1/0}(t),i=t;return i.length?1===i.length?q(i[0]):function(t){return void 0===t&&(t=1/0),ct(I,t)}(r)(Z(i,n)):ht}var mt=Array.isArray,bt=Object.getPrototypeOf,yt=Object.prototype,gt=Object.keys;function wt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=function(t){return a(nt(t))?t.pop():void 0}(t),r=function(t){if(1===t.length){var e=t[0];if(mt(e))return{args:e,keys:null};if((r=e)&&"object"==typeof r&&bt(r)===yt){var n=gt(e);return{args:n.map((function(t){return e[t]})),keys:n}}}var r;return{args:t,keys:null}}(t),i=r.args,o=r.keys,c=new P((function(t){var e=i.length;if(e)for(var n=new Array(e),r=e,c=e,u=function(e){var u=!1;q(i[e]).subscribe($(t,(function(t){u||(u=!0,c--),n[e]=t}),(function(){return r--}),void 0,(function(){r&&u||(c||t.next(o?function(t,e){return t.reduce((function(t,n,r){return t[n]=e[r],t}),{})}(o,n):n),t.complete())})))},a=0;a<e;a++)u(a);else t.complete()}));return n?c.pipe(at(n)):c}var xt=function(t){function n(e,n){return t.call(this)||this}return e(n,t),n.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},n}(p),Et={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var c=Et.delegate;return(null==c?void 0:c.setInterval)?c.setInterval.apply(c,o([t,e],i(n))):setInterval.apply(void 0,o([t,e],i(n)))},clearInterval:function(t){var e=Et.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},Ct=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return e(n,t),n.prototype.schedule=function(t,e){var n;if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,e),this},n.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),Et.setInterval(t.flush.bind(t,this),n)},n.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&Et.clearInterval(e)},n.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},n.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,f(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(xt),St={now:function(){return(St.delegate||Date).now()},delegate:void 0},kt=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=St.now,t}(),Lt=new(function(t){function n(e,n){void 0===n&&(n=kt.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r}return e(n,t),n.prototype.flush=function(t){var e=this.actions;if(this._active)e.push(t);else{var n;this._active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},n}(kt))(Ct),Tt=Lt;function At(t,e,n){void 0===e&&(e=Lt);var r=function(t,e,n){void 0===t&&(t=0),void 0===n&&(n=Tt);var r=-1;return null!=e&&(et(e)?n=e:r=e),new P((function(e){var i,o=(i=t)instanceof Date&&!isNaN(i)?+t-n.now():t;o<0&&(o=0);var c=0;return n.schedule((function(){e.closed||(e.next(c++),0<=r?this.schedule(void 0,r):e.complete())}),o)}))}(t,e);return function(t,e){return F((function(t,n){var i=null!=e?e:{},o=i.leading,c=void 0===o||o,u=i.trailing,a=void 0!==u&&u,s=!1,l=null,d=null,f=!1,p=function(){null==d||d.unsubscribe(),d=null,a&&(m(),f&&n.complete())},h=function(){d=null,f&&n.complete()},v=function(t){return d=q(r).subscribe($(n,p,h))},m=function(){if(s){s=!1;var t=l;l=null,n.next(t),!f&&v()}};t.subscribe($(n,(function(t){s=!0,l=t,(!d||d.closed)&&(c?m():v())}),(function(){f=!0,(!(a&&s&&d)||d.closed)&&n.complete()})))}))}(0,n)}var _t=function(){function t(t){this.checkBoxes=[],this.digimonList=document.createElement("div"),this.digimonList.classList.add("digimon-list");var e=document.createElement("div");e.classList.add("search-container");var n=document.createElement("btn");n.classList.add("reset-btn"),this.resetBtn=n,e.appendChild(n),this.searchInput=document.createElement("input"),this.searchInput.type="text",this.searchInput.classList.add("digimon-search"),this.searchInput.name="digimon-search",this.searchInput.placeholder="Search Digimon",e.appendChild(this.searchInput),this.compareBtn=document.createElement("button"),this.compareBtn.classList.add("compare-btn"),this.compareBtn.innerHTML="Compare",e.appendChild(this.compareBtn),this.checkBoxContainer=document.createElement("div"),this.checkBoxContainer.classList.add("checkbox-container"),t.appendChild(e),t.appendChild(this.checkBoxContainer),t.appendChild(this.digimonList),this.addCheckBoxes(),this.scrollToTopBtn=document.createElement("button"),this.scrollToTopBtn.classList.add("scrollTop-btn"),this.scrollToTopBtn.innerText="^",t.appendChild(this.scrollToTopBtn),this.scrollToTopBtn.style.display="none"}return t.prototype.bindSearch=function(){var t=this;return ft(this.searchInput,"input").pipe(J((function(e){var n;return t.uncheckAllCheckboxes(),void 0===n&&(n=Lt),F((function(t,e){var r=null,i=null,o=null,c=function(){if(r){r.unsubscribe(),r=null;var t=i;i=null,e.next(t)}};function u(){var t=o+200,i=n.now();if(i<t)return r=this.schedule(void 0,t-i),void e.add(r);c()}t.subscribe($(e,(function(t){i=t,o=n.now(),r||(r=n.schedule(u,200),e.add(r))}),(function(){c(),e.complete()}),void 0,(function(){i=r=null})))})),e.target.value})))},t.prototype.bindDigimonClick=function(){return ft(this.digimonList,"click").pipe(J((function(t){var e=t.target.closest(".digimon-tile");return e?parseInt(e.getAttribute("data-id")||"0",10):0})))},t.prototype.bindResetClick=function(){var t=this;return ft(this.resetBtn,"click").pipe(J((function(){t.clearSearchBar(),t.uncheckAllCheckboxes()})))},t.prototype.bindNavigationClick=function(){return ft(document.body,"click").pipe(J((function(t){var e=t.target.closest(".navigation-arrow");return e?e.getAttribute("data-direction"):""})))},t.prototype.bindCheckboxes=function(){var t=this,e=this.checkBoxes.map((function(e){return ft(e,"change").pipe(J((function(){return t.clearSearchBar(),t.getSelectedTypes()})))}));return vt.apply(void 0,e)},t.prototype.bindDigimonSelection=function(){var t=this,e=document.querySelectorAll(".digimon-compare-checkbox");return e.forEach((function(e){ft(e,"change").subscribe((function(){t.getSelectedDigimons().length>4&&(alert("You can only select up to 4 Digimon for comparison."),e.checked=!1)}))})),ft(e,"change").pipe(J((function(){return t.getSelectedDigimons().map(Number)})))},t.prototype.bindCompareClick=function(){return ft(this.compareBtn,"click")},t.prototype.bindScrollToTopButtonEvents=function(){var t=this;this.scrollToTopBtn&&(ft(window,"scroll").pipe(At(200),J((function(){return window.scrollY>300}))).subscribe((function(e){t.scrollToTopBtn&&(t.scrollToTopBtn.style.display=e?"block":"none")})),ft(this.scrollToTopBtn,"click").subscribe((function(){window.scrollTo({top:0,behavior:"smooth"})})))},t.prototype.renderDigimons=function(t){var e=this;this.digimonList.innerHTML="",t.forEach((function(t){var n=function(t){var e=document.createElement("div");e.classList.add("digimon-tile"),e.setAttribute("data-id",t.id.toString());var n=document.createElement("img");n.src=t.image,n.alt=t.name,n.classList.add("digimonImg-tile"),e.appendChild(n);var r=document.createElement("p");r.classList.add("digimon-name-tile"),r.textContent=t.name,e.appendChild(r);var i=document.createElement("label");i.classList.add("digimon-compare-label");var o=document.createElement("input");o.type="checkbox",o.classList.add("digimon-compare-checkbox"),o.setAttribute("data-id",t.id.toString());var c=document.createElement("span");return c.textContent="Compare",c.classList.add("digimon-compare-text"),i.appendChild(o),i.appendChild(c),e.appendChild(i),i.addEventListener("click",(function(t){t.stopPropagation()})),e}(t);e.digimonList.appendChild(n)}))},t.prototype.renderDigimonDetail=function(t){this.digimonList.innerHTML="",this.uncheckAllCheckboxes(),this.clearSearchBar();var e=function(t){var e=document.createElement("div");e.classList.add("digimon-detail"),e.setAttribute("data-id",t.id.toString());var n=document.createElement("img");n.src=t.image,n.alt=t.name,n.classList.add("digimonImg-detail"),e.appendChild(n);var r=document.createElement("h1");r.classList.add("digimon-name-detail"),r.textContent=t.name,e.appendChild(r);var i=document.createElement("div");if(i.classList.add("attributes-container"),[{label:"Level",value:t.level},{label:"Attribute",value:t.attribute},{label:"Type",value:t.type}].forEach((function(t){!function(t,e,n){var r=document.createElement("div");r.classList.add("attribute");var i=document.createElement("p");i.classList.add("attribute-label"),i.textContent=e;var o=document.createElement("p");o.classList.add("attribute-value"),o.textContent=n,r.appendChild(i),r.appendChild(o),t.appendChild(r)}(i,t.label,t.value)})),e.appendChild(i),t.prevEvolutions.length>0){var o=document.createElement("button");o.classList.add("navigation-arrow","navigation-arrow-prev"),o.setAttribute("data-direction","prev"),o.textContent=t.prevEvolutions[0],e.appendChild(o)}if(t.nextEvolutions.length>0){var c=document.createElement("button");c.classList.add("navigation-arrow","navigation-arrow-next"),c.setAttribute("data-direction","next"),c.textContent=t.nextEvolutions[0],e.appendChild(c)}return e}(t);this.digimonList.appendChild(e)},t.prototype.showCompareModal=function(t){var e=this,n=document.createElement("div");n.classList.add("modal-overlay"),wt(t.map((function(t){return tt.fetchById(t)}))).subscribe((function(t){var r=document.createElement("div");r.classList.add("modal-container"),t.forEach((function(t){var e=function(t){var e=document.createElement("div");e.classList.add("digimon-card");var n=document.createElement("img");n.src=t.image,n.alt=t.name,n.classList.add("digimonImg-tile"),e.appendChild(n);var r=document.createElement("p");r.classList.add("digimon-name-tile"),r.innerHTML="<strong>Name:</strong> ".concat(t.name),e.appendChild(r);var i=document.createElement("p");i.classList.add("digimon-level-tile"),i.innerHTML="<strong>Level:</strong> ".concat(t.level),e.appendChild(i);var o=document.createElement("p");o.classList.add("digimon-attribute-tile"),o.innerHTML="<strong>Attribute:</strong> ".concat(t.attribute),e.appendChild(o);var c=document.createElement("p");return c.classList.add("digimon-type-tile"),c.innerHTML="<strong>Type:</strong> ".concat(t.type),e.appendChild(c),e}(t);r.appendChild(e)}));var i=document.createElement("button");i.classList.add("modal-close-button"),i.textContent="X",r.appendChild(i),n.appendChild(r),document.body.appendChild(n),n.style.display="block",ft(i,"click").subscribe((function(){return e.closeModal(n)})),ft(n,"click").subscribe((function(t){t.target===n&&e.closeModal(n)}))}))},t.prototype.closeModal=function(t){t.style.display="none",document.body.removeChild(t),document.querySelectorAll(".digimon-compare-checkbox").forEach((function(t){t.checked=!1}))},t.prototype.getDigimonList=function(){return this.digimonList},t.prototype.addCheckBoxes=function(){var t=this;["Slime","Lesser","Reptile","Dinosaur","Cyborg","Dragon Man","Bird","Beast","Fairy","Plant","Insect","Sea Animal","Mammal","Angel","Holy Beast","Holy Dragon","Seraph"].forEach((function(e){var n=document.createElement("label"),r=document.createElement("input");r.type="checkbox",r.value=e,r.name=e,n.appendChild(r),n.appendChild(document.createTextNode(e)),t.checkBoxContainer.appendChild(n),t.checkBoxes.push(r)}))},t.prototype.getSelectedTypes=function(){return this.checkBoxes.filter((function(t){return t.checked})).map((function(t){return t.value}))},t.prototype.clearSearchBar=function(){this.searchInput.value=""},t.prototype.uncheckAllCheckboxes=function(){this.checkBoxes.forEach((function(t){t.checked=!1}))},t.prototype.getSelectedDigimons=function(){var t=[];return document.querySelectorAll(".digimon-compare-checkbox").forEach((function(e){var n=e;if(n.checked){var r=n.getAttribute("data-id");r&&t.push(r)}})),t},t}();document.addEventListener("DOMContentLoaded",(function(){var t=new _t(document.body);new ot(t)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VCxvQkFBc0IsV0FDeEMsSUFBSUQsRUFBbUIsR0FXdkIsT0FWaUIrSCxTQUFTaUMsaUJBQWlCLDZCQUNoQ3ZTLFNBQVEsU0FBVW9TLEdBQ3pCLElBQUk2QyxFQUFlN0MsRUFDbkIsR0FBSTZDLEVBQWF6QyxRQUFTLENBQ3RCLElBQUkwQyxFQUFZRCxFQUFhNUwsYUFBYSxXQUN0QzZMLEdBQ0EzTSxFQUFpQmxSLEtBQUs2ZCxFQUU5QixDQUNKLElBQ08zTSxDQUNYLEVBQ08ySCxDQUNYLENBcE5nQyxHRUZoQ0ksU0FBU3JGLGlCQUFpQixvQkFBb0IsV0FDMUMsSUFBSTFELEVBQU8sSUFBSTJJLEdBQVlJLFNBQVN0YSxNQUNwQyxJQUFJc1IsR0FBa0JDLEVBQzFCLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYubWpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNBcnJheUxpa2UuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0Z1bmN0aW9uLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNQcm9taXNlLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvci5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2NyZWF0ZUVycm9yQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9hcnJSZW1vdmUuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3IuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9ub29wLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL05vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2Vycm9yQ29udGV4dC5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9TdWJzY3JpYmVyLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0ludGVyb3BPYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNBc3luY0l0ZXJhYmxlLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvci5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbm5lckZyb20uanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9saWZ0LmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N3aXRjaE1hcC5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWFwLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvZXhlY3V0ZVNjaGVkdWxlLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9vYnNlcnZlT24uanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFzeW5jSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheS5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVQcm9taXNlLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUl0ZXJhYmxlLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZS5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL3NyYy9tb2RlbHMvRGlnaW1vbi50cyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvYXJncy5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL29mLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vc3JjL2NvbnRyb2xsZXJzL0RpZ2ltb25Db250cm9sbGVyLnRzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZU1hcC5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VJbnRlcm5hbHMuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9tYXBPbmVPck1hbnlBcmdzLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvZW1wdHkuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9tZXJnZS5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VBbGwuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9hcmdzQXJnQXJyYXlPck9iamVjdC5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2ZvcmtKb2luLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvY3JlYXRlT2JqZWN0LmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9BY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2ludGVydmFsUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jQWN0aW9uLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9hc3luYy5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXN5bmNTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3Rocm90dGxlVGltZS5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3RpbWVyLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNEYXRlLmpzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy90aHJvdHRsZS5qcyIsIndlYnBhY2s6Ly9yd2Etcnhqcy8uL3NyYy92aWV3cy90ZW1wbGF0ZXMvRGlnaW1vblRlbXBsYXRlLnRzIiwid2VicGFjazovL3J3YS1yeGpzLy4vc3JjL3ZpZXdzL0RpZ2ltb25WaWV3LnRzIiwid2VicGFjazovL3J3YS1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUuanMiLCJ3ZWJwYWNrOi8vcndhLXJ4anMvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UsIFN1cHByZXNzZWRFcnJvciwgU3ltYm9sICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gIH1cbn1cblxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcbiAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xuICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICB0cnkge1xuICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gIGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICB9XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgcltrXSA9IGFbal07XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiLCBhd2FpdFJldHVybiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xuICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2UsIGlubmVyO1xuICAgIGlmIChhc3luYykge1xuICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xuICAgICAgaWYgKGFzeW5jKSBpbm5lciA9IGRpc3Bvc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBpZiAoaW5uZXIpIGRpc3Bvc2UgPSBmdW5jdGlvbigpIHsgdHJ5IHsgaW5uZXIuY2FsbCh0aGlzKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7IH0gfTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICB3aGlsZSAoZW52LnN0YWNrLmxlbmd0aCkge1xuICAgICAgdmFyIHJlYyA9IGVudi5zdGFjay5wb3AoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWMuZGlzcG9zZSAmJiByZWMuZGlzcG9zZS5jYWxsKHJlYy52YWx1ZSk7XG4gICAgICAgIGlmIChyZWMuYXN5bmMpIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgIGZhaWwoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcbiAgfVxuICByZXR1cm4gbmV4dCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG4gIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxuICBfX2Rpc3Bvc2VSZXNvdXJjZXMsXG59O1xuIiwiZXhwb3J0IHZhciBpc0FycmF5TGlrZSA9IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInICYmIHR5cGVvZiB4ICE9PSAnZnVuY3Rpb24nOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gXCIuL2lzRnVuY3Rpb25cIjtcbmV4cG9ydCBmdW5jdGlvbiBpc1Byb21pc2UodmFsdWUpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbih2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUudGhlbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1Byb21pc2UuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlRXJyb3JDbGFzcyB9IGZyb20gJy4vY3JlYXRlRXJyb3JDbGFzcyc7XG5leHBvcnQgdmFyIFVuc3Vic2NyaXB0aW9uRXJyb3IgPSBjcmVhdGVFcnJvckNsYXNzKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgICAgIF9zdXBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3JzXG4gICAgICAgICAgICA/IGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpXG4gICAgICAgICAgICA6ICcnO1xuICAgICAgICB0aGlzLm5hbWUgPSAnVW5zdWJzY3JpcHRpb25FcnJvcic7XG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIH07XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yQ2xhc3MoY3JlYXRlSW1wbCkge1xuICAgIHZhciBfc3VwZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UpIHtcbiAgICAgICAgRXJyb3IuY2FsbChpbnN0YW5jZSk7XG4gICAgICAgIGluc3RhbmNlLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XG4gICAgfTtcbiAgICB2YXIgY3RvckZ1bmMgPSBjcmVhdGVJbXBsKF9zdXBlcik7XG4gICAgY3RvckZ1bmMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuICAgIGN0b3JGdW5jLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JGdW5jO1xuICAgIHJldHVybiBjdG9yRnVuYztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNyZWF0ZUVycm9yQ2xhc3MuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGFyclJlbW92ZShhcnIsIGl0ZW0pIHtcbiAgICBpZiAoYXJyKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xuICAgICAgICAwIDw9IGluZGV4ICYmIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyclJlbW92ZS5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXksIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIFN1YnNjcmlwdGlvbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGluaXRpYWxUZWFyZG93bikge1xuICAgICAgICB0aGlzLmluaXRpYWxUZWFyZG93biA9IGluaXRpYWxUZWFyZG93bjtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZmluYWxpemVycyA9IG51bGw7XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xuICAgICAgICB2YXIgZXJyb3JzO1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgICAgIGlmIChfcGFyZW50YWdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX3BhcmVudGFnZV8xID0gX192YWx1ZXMoX3BhcmVudGFnZSksIF9wYXJlbnRhZ2VfMV8xID0gX3BhcmVudGFnZV8xLm5leHQoKTsgIV9wYXJlbnRhZ2VfMV8xLmRvbmU7IF9wYXJlbnRhZ2VfMV8xID0gX3BhcmVudGFnZV8xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJlbnRfMSA9IF9wYXJlbnRhZ2VfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2VfMV8xICYmICFfcGFyZW50YWdlXzFfMS5kb25lICYmIChfYSA9IF9wYXJlbnRhZ2VfMS5yZXR1cm4pKSBfYS5jYWxsKF9wYXJlbnRhZ2VfMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRhZ2UucmVtb3ZlKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBpbml0aWFsRmluYWxpemVyID0gdGhpcy5pbml0aWFsVGVhcmRvd247XG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihpbml0aWFsRmluYWxpemVyKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxGaW5hbGl6ZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBlLmVycm9ycyA6IFtlXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgX2ZpbmFsaXplcnMgPSB0aGlzLl9maW5hbGl6ZXJzO1xuICAgICAgICAgICAgaWYgKF9maW5hbGl6ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZmluYWxpemVycyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2ZpbmFsaXplcnNfMSA9IF9fdmFsdWVzKF9maW5hbGl6ZXJzKSwgX2ZpbmFsaXplcnNfMV8xID0gX2ZpbmFsaXplcnNfMS5uZXh0KCk7ICFfZmluYWxpemVyc18xXzEuZG9uZTsgX2ZpbmFsaXplcnNfMV8xID0gX2ZpbmFsaXplcnNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaW5hbGl6ZXIgPSBfZmluYWxpemVyc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWNGaW5hbGl6ZXIoZmluYWxpemVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBlcnJvcnMgIT09IG51bGwgJiYgZXJyb3JzICE9PSB2b2lkIDAgPyBlcnJvcnMgOiBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgVW5zdWJzY3JpcHRpb25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChlcnJvcnMpKSwgX19yZWFkKGVyci5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2ZpbmFsaXplcnNfMV8xICYmICFfZmluYWxpemVyc18xXzEuZG9uZSAmJiAoX2IgPSBfZmluYWxpemVyc18xLnJldHVybikpIF9iLmNhbGwoX2ZpbmFsaXplcnNfMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5zdWJzY3JpcHRpb25FcnJvcihlcnJvcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0ZWFyZG93biAmJiB0ZWFyZG93biAhPT0gdGhpcykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgZXhlY0ZpbmFsaXplcih0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGVhcmRvd24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlYXJkb3duLmNsb3NlZCB8fCB0ZWFyZG93bi5faGFzUGFyZW50KHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGVhcmRvd24uX2FkZFBhcmVudCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKHRoaXMuX2ZpbmFsaXplcnMgPSAoX2EgPSB0aGlzLl9maW5hbGl6ZXJzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBbXSkucHVzaCh0ZWFyZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2hhc1BhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHJldHVybiBfcGFyZW50YWdlID09PSBwYXJlbnQgfHwgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgJiYgX3BhcmVudGFnZS5pbmNsdWRlcyhwYXJlbnQpKTtcbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2FkZFBhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XG4gICAgICAgIHRoaXMuX3BhcmVudGFnZSA9IEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkgPyAoX3BhcmVudGFnZS5wdXNoKHBhcmVudCksIF9wYXJlbnRhZ2UpIDogX3BhcmVudGFnZSA/IFtfcGFyZW50YWdlLCBwYXJlbnRdIDogcGFyZW50O1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5fcmVtb3ZlUGFyZW50ID0gZnVuY3Rpb24gKHBhcmVudCkge1xuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcbiAgICAgICAgaWYgKF9wYXJlbnRhZ2UgPT09IHBhcmVudCkge1xuICAgICAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XG4gICAgICAgICAgICBhcnJSZW1vdmUoX3BhcmVudGFnZSwgcGFyZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAodGVhcmRvd24pIHtcbiAgICAgICAgdmFyIF9maW5hbGl6ZXJzID0gdGhpcy5fZmluYWxpemVycztcbiAgICAgICAgX2ZpbmFsaXplcnMgJiYgYXJyUmVtb3ZlKF9maW5hbGl6ZXJzLCB0ZWFyZG93bik7XG4gICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGVhcmRvd24uX3JlbW92ZVBhcmVudCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfSkoKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZXhwb3J0IHZhciBFTVBUWV9TVUJTQ1JJUFRJT04gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG5leHBvcnQgZnVuY3Rpb24gaXNTdWJzY3JpcHRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gKHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uIHx8XG4gICAgICAgICh2YWx1ZSAmJiAnY2xvc2VkJyBpbiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLnJlbW92ZSkgJiYgaXNGdW5jdGlvbih2YWx1ZS5hZGQpICYmIGlzRnVuY3Rpb24odmFsdWUudW5zdWJzY3JpYmUpKSk7XG59XG5mdW5jdGlvbiBleGVjRmluYWxpemVyKGZpbmFsaXplcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKGZpbmFsaXplcikpIHtcbiAgICAgICAgZmluYWxpemVyKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmaW5hbGl6ZXIudW5zdWJzY3JpYmUoKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwIiwiZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgb25VbmhhbmRsZWRFcnJvcjogbnVsbCxcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb246IG51bGwsXG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6IGZhbHNlLFxuICAgIHVzZURlcHJlY2F0ZWROZXh0Q29udGV4dDogZmFsc2UsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xuZXhwb3J0IHZhciB0aW1lb3V0UHJvdmlkZXIgPSB7XG4gICAgc2V0VGltZW91dDogZnVuY3Rpb24gKGhhbmRsZXIsIHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gdGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICBpZiAoZGVsZWdhdGUgPT09IG51bGwgfHwgZGVsZWdhdGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlbGVnYXRlLnNldFRpbWVvdXQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5zZXRUaW1lb3V0LmFwcGx5KGRlbGVnYXRlLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgfSxcbiAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gdGltZW91dFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJUaW1lb3V0KSB8fCBjbGVhclRpbWVvdXQpKGhhbmRsZSk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWVvdXRQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgdGltZW91dFByb3ZpZGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL3RpbWVvdXRQcm92aWRlcic7XG5leHBvcnQgZnVuY3Rpb24gcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyKSB7XG4gICAgdGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb25VbmhhbmRsZWRFcnJvciA9IGNvbmZpZy5vblVuaGFuZGxlZEVycm9yO1xuICAgICAgICBpZiAob25VbmhhbmRsZWRFcnJvcikge1xuICAgICAgICAgICAgb25VbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXBvcnRVbmhhbmRsZWRFcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gbm9vcCgpIHsgfVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXAiLCJleHBvcnQgdmFyIENPTVBMRVRFX05PVElGSUNBVElPTiA9IChmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7IH0pKCk7XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JOb3RpZmljYXRpb24oZXJyb3IpIHtcbiAgICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdFJywgdW5kZWZpbmVkLCBlcnJvcik7XG59XG5leHBvcnQgZnVuY3Rpb24gbmV4dE5vdGlmaWNhdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ04nLCB2YWx1ZSwgdW5kZWZpbmVkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RpZmljYXRpb24oa2luZCwgdmFsdWUsIGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAga2luZDoga2luZCxcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICBlcnJvcjogZXJyb3IsXG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcy5tYXAiLCJpbXBvcnQgeyBjb25maWcgfSBmcm9tICcuLi9jb25maWcnO1xudmFyIGNvbnRleHQgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yQ29udGV4dChjYikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICB2YXIgaXNSb290ID0gIWNvbnRleHQ7XG4gICAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSB7IGVycm9yVGhyb3duOiBmYWxzZSwgZXJyb3I6IG51bGwgfTtcbiAgICAgICAgfVxuICAgICAgICBjYigpO1xuICAgICAgICBpZiAoaXNSb290KSB7XG4gICAgICAgICAgICB2YXIgX2EgPSBjb250ZXh0LCBlcnJvclRocm93biA9IF9hLmVycm9yVGhyb3duLCBlcnJvciA9IF9hLmVycm9yO1xuICAgICAgICAgICAgY29udGV4dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoZXJyb3JUaHJvd24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY2FwdHVyZUVycm9yKGVycikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiBjb250ZXh0KSB7XG4gICAgICAgIGNvbnRleHQuZXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICBjb250ZXh0LmVycm9yID0gZXJyO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yQ29udGV4dC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiwgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgbm9vcCB9IGZyb20gJy4vdXRpbC9ub29wJztcbmltcG9ydCB7IG5leHROb3RpZmljYXRpb24sIGVycm9yTm90aWZpY2F0aW9uLCBDT01QTEVURV9OT1RJRklDQVRJT04gfSBmcm9tICcuL05vdGlmaWNhdGlvbkZhY3Rvcmllcyc7XG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXInO1xuaW1wb3J0IHsgY2FwdHVyZUVycm9yIH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG52YXIgU3Vic2NyaWJlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3Vic2NyaWJlcihkZXN0aW5hdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgaWYgKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICAgICAgaWYgKGlzU3Vic2NyaXB0aW9uKGRlc3RpbmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmFkZChfdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IEVNUFRZX09CU0VSVkVSO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU2FmZVN1YnNjcmliZXIobmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5leHROb3RpZmljYXRpb24odmFsdWUpLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKGVycm9yTm90aWZpY2F0aW9uKGVyciksIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihDT01QTEVURV9OT1RJRklDQVRJT04sIHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBfYmluZCA9IEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kO1xuZnVuY3Rpb24gYmluZChmbiwgdGhpc0FyZykge1xuICAgIHJldHVybiBfYmluZC5jYWxsKGZuLCB0aGlzQXJnKTtcbn1cbnZhciBDb25zdW1lck9ic2VydmVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcikge1xuICAgICAgICB0aGlzLnBhcnRpYWxPYnNlcnZlciA9IHBhcnRpYWxPYnNlcnZlcjtcbiAgICB9XG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChwYXJ0aWFsT2JzZXJ2ZXIuZXJyb3IpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxPYnNlcnZlciA9IHRoaXMucGFydGlhbE9ic2VydmVyO1xuICAgICAgICBpZiAocGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ29uc3VtZXJPYnNlcnZlcjtcbn0oKSk7XG52YXIgU2FmZVN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXI7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9ic2VydmVyT3JOZXh0KSB8fCAhb2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcbiAgICAgICAgICAgICAgICBuZXh0OiAob2JzZXJ2ZXJPck5leHQgIT09IG51bGwgJiYgb2JzZXJ2ZXJPck5leHQgIT09IHZvaWQgMCA/IG9ic2VydmVyT3JOZXh0IDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgIT09IG51bGwgJiYgZXJyb3IgIT09IHZvaWQgMCA/IGVycm9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBjb21wbGV0ZSAhPT0gbnVsbCAmJiBjb21wbGV0ZSAhPT0gdm9pZCAwID8gY29tcGxldGUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvbnRleHRfMTtcbiAgICAgICAgICAgIGlmIChfdGhpcyAmJiBjb25maWcudXNlRGVwcmVjYXRlZE5leHRDb250ZXh0KSB7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgY29udGV4dF8xLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudW5zdWJzY3JpYmUoKTsgfTtcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQ6IG9ic2VydmVyT3JOZXh0Lm5leHQgJiYgYmluZChvYnNlcnZlck9yTmV4dC5uZXh0LCBjb250ZXh0XzEpLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogb2JzZXJ2ZXJPck5leHQuZXJyb3IgJiYgYmluZChvYnNlcnZlck9yTmV4dC5lcnJvciwgY29udGV4dF8xKSxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IG9ic2VydmVyT3JOZXh0LmNvbXBsZXRlICYmIGJpbmQob2JzZXJ2ZXJPck5leHQuY29tcGxldGUsIGNvbnRleHRfMSksXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IG9ic2VydmVyT3JOZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IENvbnN1bWVyT2JzZXJ2ZXIocGFydGlhbE9ic2VydmVyKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gU2FmZVN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbmV4cG9ydCB7IFNhZmVTdWJzY3JpYmVyIH07XG5mdW5jdGlvbiBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcikge1xuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICBjYXB0dXJlRXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRlZmF1bHRFcnJvckhhbmRsZXIoZXJyKSB7XG4gICAgdGhyb3cgZXJyO1xufVxuZnVuY3Rpb24gaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgb25TdG9wcGVkTm90aWZpY2F0aW9uID0gY29uZmlnLm9uU3RvcHBlZE5vdGlmaWNhdGlvbjtcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb24gJiYgdGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gb25TdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcik7IH0pO1xufVxuZXhwb3J0IHZhciBFTVBUWV9PQlNFUlZFUiA9IHtcbiAgICBjbG9zZWQ6IHRydWUsXG4gICAgbmV4dDogbm9vcCxcbiAgICBlcnJvcjogZGVmYXVsdEVycm9ySGFuZGxlcixcbiAgICBjb21wbGV0ZTogbm9vcCxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpYmVyLmpzLm1hcCIsImV4cG9ydCB2YXIgb2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7IHJldHVybiAodHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wub2JzZXJ2YWJsZSkgfHwgJ0BAb2JzZXJ2YWJsZSc7IH0pKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eSh4KSB7XG4gICAgcmV0dXJuIHg7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGl0eS5qcy5tYXAiLCJpbXBvcnQgeyBTYWZlU3Vic2NyaWJlciwgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZXJyb3JDb250ZXh0IH0gZnJvbSAnLi91dGlsL2Vycm9yQ29udGV4dCc7XG52YXIgT2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2YWJsZShzdWJzY3JpYmUpIHtcbiAgICAgICAgaWYgKHN1YnNjcmliZSkge1xuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZSgpO1xuICAgICAgICBvYnNlcnZhYmxlLnNvdXJjZSA9IHRoaXM7XG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IGlzU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCkgPyBvYnNlcnZlck9yTmV4dCA6IG5ldyBTYWZlU3Vic2NyaWJlcihvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBfYSA9IF90aGlzLCBvcGVyYXRvciA9IF9hLm9wZXJhdG9yLCBzb3VyY2UgPSBfYS5zb3VyY2U7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChvcGVyYXRvclxuICAgICAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0b3IuY2FsbChzdWJzY3JpYmVyLCBzb3VyY2UpXG4gICAgICAgICAgICAgICAgOiBzb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgP1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuX3N1YnNjcmliZShzdWJzY3JpYmVyKVxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzaW5rKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBwcm9taXNlQ3RvciA9IGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKTtcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTYWZlU3Vic2NyaWJlcih7XG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6IHJlamVjdCxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAoX2EgPSB0aGlzLnNvdXJjZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlW1N5bWJvbF9vYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb3BlcmF0aW9ucyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgb3BlcmF0aW9uc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gKHZhbHVlID0geCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmUpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmFibGU7XG59KCkpO1xuZXhwb3J0IHsgT2JzZXJ2YWJsZSB9O1xuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIChfYSA9IHByb21pc2VDdG9yICE9PSBudWxsICYmIHByb21pc2VDdG9yICE9PSB2b2lkIDAgPyBwcm9taXNlQ3RvciA6IGNvbmZpZy5Qcm9taXNlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBQcm9taXNlO1xufVxuZnVuY3Rpb24gaXNPYnNlcnZlcih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiBpc0Z1bmN0aW9uKHZhbHVlLm5leHQpICYmIGlzRnVuY3Rpb24odmFsdWUuZXJyb3IpICYmIGlzRnVuY3Rpb24odmFsdWUuY29tcGxldGUpO1xufVxuZnVuY3Rpb24gaXNTdWJzY3JpYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSAmJiB2YWx1ZSBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHx8IChpc09ic2VydmVyKHZhbHVlKSAmJiBpc1N1YnNjcmlwdGlvbih2YWx1ZSkpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKSB7XG4gICAgdmFyIGZucyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGZuc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpcGVGcm9tQXJyYXkoZm5zKSB7XG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGlkZW50aXR5O1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcCIsImltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSW50ZXJvcE9ic2VydmFibGUuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKG9iaikge1xuICAgIHJldHVybiBTeW1ib2wuYXN5bmNJdGVyYXRvciAmJiBpc0Z1bmN0aW9uKG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9ialtTeW1ib2wuYXN5bmNJdGVyYXRvcl0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBc3luY0l0ZXJhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCkge1xuICAgIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IHByb3ZpZGVkIFwiICsgKGlucHV0ICE9PSBudWxsICYmIHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcgPyAnYW4gaW52YWxpZCBvYmplY3QnIDogXCInXCIgKyBpbnB1dCArIFwiJ1wiKSArIFwiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIFJlYWRhYmxlU3RyZWFtLCBBcnJheSwgQXN5bmNJdGVyYWJsZSwgb3IgSXRlcmFibGUuXCIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dVbm9ic2VydmFibGVFcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgIVN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gJ0BAaXRlcmF0b3InO1xuICAgIH1cbiAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuZXhwb3J0IHZhciBpdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yKCk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVyYXRvci5qcy5tYXAiLCJpbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwIiwiaW1wb3J0IHsgX19hc3luY0dlbmVyYXRvciwgX19hd2FpdCwgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pIHtcbiAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3JfMSgpIHtcbiAgICAgICAgdmFyIHJlYWRlciwgX2EsIHZhbHVlLCBkb25lO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICByZWFkZXIgPSByZWFkYWJsZVN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgX2IudHJ5cy5wdXNoKFsxLCAsIDksIDEwXSk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJ1ZSkgcmV0dXJuIFszLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfX2F3YWl0KHJlYWRlci5yZWFkKCkpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgIF9hID0gX2Iuc2VudCgpLCB2YWx1ZSA9IF9hLnZhbHVlLCBkb25lID0gX2EuZG9uZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb25lKSByZXR1cm4gWzMsIDVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9fYXdhaXQodm9pZCAwKV07XG4gICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIsIF9iLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzQsIF9fYXdhaXQodmFsdWUpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDY6IHJldHVybiBbNCwgX2Iuc2VudCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAyXTtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFsyXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNSZWFkYWJsZVN0cmVhbUxpa2Uob2JqKSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLmdldFJlYWRlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1JlYWRhYmxlU3RyZWFtTGlrZS5qcy5tYXAiLCJpbXBvcnQgeyBfX2FzeW5jVmFsdWVzLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi4vdXRpbC9pc0FzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSwgcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBpbm5lckZyb20oaW5wdXQpIHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiBpbnB1dDtcbiAgICB9XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUludGVyb3BPYnNlcnZhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUFycmF5TGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tUHJvbWlzZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQXN5bmNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSXRlcmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUl0ZXJhYmxlKGlucHV0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShvYmopIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzLnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvYnMuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3ZpZGVkIG9iamVjdCBkb2VzIG5vdCBjb3JyZWN0bHkgaW1wbGVtZW50IFN5bWJvbC5vYnNlcnZhYmxlJyk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFycmF5TGlrZShhcnJheSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbVByb21pc2UocHJvbWlzZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9taXNlXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVwb3J0VW5oYW5kbGVkRXJyb3IpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JdGVyYWJsZShpdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZXJhYmxlXzEgPSBfX3ZhbHVlcyhpdGVyYWJsZSksIGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpOyAhaXRlcmFibGVfMV8xLmRvbmU7IGl0ZXJhYmxlXzFfMSA9IGl0ZXJhYmxlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaXRlcmFibGVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChpdGVyYWJsZV8xXzEgJiYgIWl0ZXJhYmxlXzFfMS5kb25lICYmIChfYSA9IGl0ZXJhYmxlXzEucmV0dXJuKSkgX2EuY2FsbChpdGVyYWJsZV8xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbUFzeW5jSXRlcmFibGUoYXN5bmNJdGVyYWJsZSkge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShyZWFkYWJsZVN0cmVhbSkge1xuICAgIHJldHVybiBmcm9tQXN5bmNJdGVyYWJsZShyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSk7XG59XG5mdW5jdGlvbiBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpIHtcbiAgICB2YXIgYXN5bmNJdGVyYWJsZV8xLCBhc3luY0l0ZXJhYmxlXzFfMTtcbiAgICB2YXIgZV8yLCBfYTtcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciB2YWx1ZSwgZV8yXzE7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMCwgNSwgNiwgMTFdKTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJdGVyYWJsZV8xID0gX19hc3luY1ZhbHVlcyhhc3luY0l0ZXJhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIFs0LCBhc3luY0l0ZXJhYmxlXzEubmV4dCgpXTtcbiAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgIGlmICghKGFzeW5jSXRlcmFibGVfMV8xID0gX2Iuc2VudCgpLCAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSkpIHJldHVybiBbMywgNF07XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYXN5bmNJdGVyYWJsZV8xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDM7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiByZXR1cm4gWzMsIDFdO1xuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBlXzJfMSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgZV8yID0geyBlcnJvcjogZV8yXzEgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszLCAxMV07XG4gICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzYsICwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgJiYgIWFzeW5jSXRlcmFibGVfMV8xLmRvbmUgJiYgKF9hID0gYXN5bmNJdGVyYWJsZV8xLnJldHVybikpKSByZXR1cm4gWzMsIDhdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQsIF9hLmNhbGwoYXN5bmNJdGVyYWJsZV8xKV07XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gODtcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xuICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHJldHVybiBbN107XG4gICAgICAgICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlubmVyRnJvbS5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBoYXNMaWZ0KHNvdXJjZSkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHNvdXJjZSA9PT0gbnVsbCB8fCBzb3VyY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNvdXJjZS5saWZ0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcGVyYXRlKGluaXQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzTGlmdChzb3VyY2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gc291cmNlLmxpZnQoZnVuY3Rpb24gKGxpZnRlZFNvdXJjZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0KGxpZnRlZFNvdXJjZSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1VuYWJsZSB0byBsaWZ0IHVua25vd24gT2JzZXJ2YWJsZSB0eXBlJyk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxpZnQuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplKTtcbn1cbnZhciBPcGVyYXRvclN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhPcGVyYXRvclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUsIHNob3VsZFVuc3Vic2NyaWJlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5vbkZpbmFsaXplID0gb25GaW5hbGl6ZTtcbiAgICAgICAgX3RoaXMuc2hvdWxkVW5zdWJzY3JpYmUgPSBzaG91bGRVbnN1YnNjcmliZTtcbiAgICAgICAgX3RoaXMuX25leHQgPSBvbk5leHRcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25OZXh0KHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gb25FcnJvclxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25FcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9lcnJvcjtcbiAgICAgICAgX3RoaXMuX2NvbXBsZXRlID0gb25Db21wbGV0ZVxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBfc3VwZXIucHJvdG90eXBlLl9jb21wbGV0ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPcGVyYXRvclN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICghdGhpcy5zaG91bGRVbnN1YnNjcmliZSB8fCB0aGlzLnNob3VsZFVuc3Vic2NyaWJlKCkpIHtcbiAgICAgICAgICAgIHZhciBjbG9zZWRfMSA9IHRoaXMuY2xvc2VkO1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgIWNsb3NlZF8xICYmICgoX2EgPSB0aGlzLm9uRmluYWxpemUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE9wZXJhdG9yU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcGVyYXRvclN1YnNjcmliZXIuanMubWFwIiwiaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaW5uZXJTdWJzY3JpYmVyID0gbnVsbDtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNoZWNrQ29tcGxldGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpc0NvbXBsZXRlICYmICFpbm5lclN1YnNjcmliZXIgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9O1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlubmVyU3Vic2NyaWJlciA9PT0gbnVsbCB8fCBpbm5lclN1YnNjcmliZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlubmVyU3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdmFyIGlubmVySW5kZXggPSAwO1xuICAgICAgICAgICAgdmFyIG91dGVySW5kZXggPSBpbmRleCsrO1xuICAgICAgICAgICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIG91dGVySW5kZXgpKS5zdWJzY3JpYmUoKGlubmVyU3Vic2NyaWJlciA9IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkgeyByZXR1cm4gc3Vic2NyaWJlci5uZXh0KHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0U2VsZWN0b3IodmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgrKykgOiBpbm5lclZhbHVlKTsgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlubmVyU3Vic2NyaWJlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN3aXRjaE1hcC5qcy5tYXAiLCJpbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBtYXAocHJvamVjdCwgdGhpc0FyZykge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocHJvamVjdC5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCsrKSk7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZXhlY3V0ZVNjaGVkdWxlKHBhcmVudFN1YnNjcmlwdGlvbiwgc2NoZWR1bGVyLCB3b3JrLCBkZWxheSwgcmVwZWF0KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgaWYgKHJlcGVhdCA9PT0gdm9pZCAwKSB7IHJlcGVhdCA9IGZhbHNlOyB9XG4gICAgdmFyIHNjaGVkdWxlU3Vic2NyaXB0aW9uID0gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd29yaygpO1xuICAgICAgICBpZiAocmVwZWF0KSB7XG4gICAgICAgICAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHRoaXMuc2NoZWR1bGUobnVsbCwgZGVsYXkpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH0sIGRlbGF5KTtcbiAgICBwYXJlbnRTdWJzY3JpcHRpb24uYWRkKHNjaGVkdWxlU3Vic2NyaXB0aW9uKTtcbiAgICBpZiAoIXJlcGVhdCkge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVTdWJzY3JpcHRpb247XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhlY3V0ZVNjaGVkdWxlLmpzLm1hcCIsImltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmVPbihzY2hlZHVsZXIsIGRlbGF5KSB7XG4gICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0sIGRlbGF5KTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9LCBkZWxheSk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSwgZGVsYXkpOyB9KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlT24uanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgc3Vic2NyaWJlci5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7IH0sIGRlbGF5KSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVPbi5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBleGVjdXRlU2NoZWR1bGUgfSBmcm9tICcuLi91dGlsL2V4ZWN1dGVTY2hlZHVsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBc3luY0l0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSXRlcmFibGUgY2Fubm90IGJlIG51bGwnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGlucHV0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLm5leHQoKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMCwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVBc3luY0l0ZXJhYmxlLmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlZCB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZWQnO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi9pbm5lckZyb20nO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20oaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBzY2hlZHVsZXIgPyBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikgOiBpbm5lckZyb20oaW5wdXQpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZU9ic2VydmFibGUgfSBmcm9tICcuL3NjaGVkdWxlT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBzY2hlZHVsZVByb21pc2UgfSBmcm9tICcuL3NjaGVkdWxlUHJvbWlzZSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlSXRlcmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUFzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1Byb21pc2UgfSBmcm9tICcuLi91dGlsL2lzUHJvbWlzZSc7XG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzQXN5bmNJdGVyYWJsZSc7XG5pbXBvcnQgeyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciB9IGZyb20gJy4uL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvcic7XG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UgfSBmcm9tICcuL3NjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZWQoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlT2JzZXJ2YWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXN5bmNJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNJdGVyYWJsZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZWQuanMubWFwIiwiaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgb2JzZXJ2ZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL29ic2VydmVPbic7XG5pbXBvcnQgeyBzdWJzY3JpYmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9zdWJzY3JpYmVPbic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVPYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gaW5uZXJGcm9tKGlucHV0KS5waXBlKHN1YnNjcmliZU9uKHNjaGVkdWxlciksIG9ic2VydmVPbihzY2hlZHVsZXIpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlT2JzZXJ2YWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlucHV0W2krK10pO1xuICAgICAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFycmF5LmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xuaW1wb3J0IHsgc3Vic2NyaWJlT24gfSBmcm9tICcuLi9vcGVyYXRvcnMvc3Vic2NyaWJlT24nO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIGlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbihzY2hlZHVsZXIpLCBvYnNlcnZlT24oc2NoZWR1bGVyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVByb21pc2UuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaXRlcmF0b3I7XG4gICAgICAgIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGl0ZXJhdG9yID0gaW5wdXRbU3ltYm9sX2l0ZXJhdG9yXSgpO1xuICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICAgICAgdmFyIGRvbmU7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgKF9hID0gaXRlcmF0b3IubmV4dCgpLCB2YWx1ZSA9IF9hLnZhbHVlLCBkb25lID0gX2EuZG9uZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMCwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXNGdW5jdGlvbihpdGVyYXRvciA9PT0gbnVsbCB8fCBpdGVyYXRvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaXRlcmF0b3IucmV0dXJuKSAmJiBpdGVyYXRvci5yZXR1cm4oKTsgfTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlSXRlcmFibGUuanMubWFwIiwiaW1wb3J0IHsgc2NoZWR1bGVBc3luY0l0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUFzeW5jSXRlcmFibGUnO1xuaW1wb3J0IHsgcmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVBc3luY0l0ZXJhYmxlKHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IoaW5wdXQpLCBzY2hlZHVsZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UuanMubWFwIiwiaW1wb3J0IHsgZnJvbSB9IGZyb20gXCJyeGpzXCI7XG5pbXBvcnQgeyBtYXAsIHN3aXRjaE1hcCB9IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xudmFyIERpZ2ltb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlnaW1vbihkYXRhKSB7XG4gICAgICAgIHRoaXMuaWQgPSBkYXRhLmlkIHx8IDA7XG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLmltYWdlID0gZGF0YS5pbWFnZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLmxldmVsID0gZGF0YS5sZXZlbCB8fCBcIlwiO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZSA9IGRhdGEuYXR0cmlidXRlIHx8IFwiXCI7XG4gICAgICAgIHRoaXMudHlwZSA9IGRhdGEudHlwZSB8fCBcIlwiO1xuICAgICAgICB0aGlzLnByZXZFdm9sdXRpb25zID0gZGF0YS5wcmV2RXZvbHV0aW9ucyB8fCBbXTtcbiAgICAgICAgdGhpcy5uZXh0RXZvbHV0aW9ucyA9IGRhdGEubmV4dEV2b2x1dGlvbnMgfHwgW107XG4gICAgfVxuICAgIERpZ2ltb24uZmV0Y2hCeU5hbWUgPSBmdW5jdGlvbiAoc2VhcmNoVGVybSkge1xuICAgICAgICBpZiAoc2VhcmNoVGVybSA9PT0gdm9pZCAwKSB7IHNlYXJjaFRlcm0gPSBcIlwiOyB9XG4gICAgICAgIHJldHVybiBmcm9tKGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDozMDAwL2RpZ2ltb25zXCIpKVxuICAgICAgICAgICAgLnBpcGUoc3dpdGNoTWFwKGZ1bmN0aW9uIChyZXNwb25zZSkgeyByZXR1cm4gcmVzcG9uc2UuanNvbigpOyB9KSwgbWFwKGZ1bmN0aW9uIChkaWdpbW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGRpZ2ltb25zXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoZGlnaW1vbikgeyByZXR1cm4gZGlnaW1vbi5uYW1lLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGVybS50b0xvd2VyQ2FzZSgpKTsgfSlcbiAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChkaWdpbW9uRGF0YSkgeyByZXR1cm4gbmV3IERpZ2ltb24oZGlnaW1vbkRhdGEpOyB9KTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgRGlnaW1vbi5mZXRjaEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgcmV0dXJuIGZyb20oZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjMwMDAvZGlnaW1vbnMvXCIuY29uY2F0KGlkKSkpXG4gICAgICAgICAgICAucGlwZShzd2l0Y2hNYXAoZnVuY3Rpb24gKHJlc3BvbnNlKSB7IHJldHVybiByZXNwb25zZS5qc29uKCk7IH0pLCBtYXAoZnVuY3Rpb24gKGRpZ2ltb25EYXRhKSB7IHJldHVybiBuZXcgRGlnaW1vbihkaWdpbW9uRGF0YSk7IH0pKTtcbiAgICB9O1xuICAgIERpZ2ltb24uZmV0Y2hTaW5nbGVCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gZnJvbShmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9kaWdpbW9uc1wiKSlcbiAgICAgICAgICAgIC5waXBlKHN3aXRjaE1hcChmdW5jdGlvbiAocmVzcG9uc2UpIHsgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsgfSksIG1hcChmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdmFyIGRpZ2ltb25EYXRhID0gZGF0YS5maW5kKGZ1bmN0aW9uIChkaWdpbW9uKSB7IHJldHVybiBkaWdpbW9uLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gbmFtZS50b0xvd2VyQ2FzZSgpOyB9KTtcbiAgICAgICAgICAgIGlmICghZGlnaW1vbkRhdGEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RpZ2ltb24gbm90IGZvdW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IERpZ2ltb24oZGlnaW1vbkRhdGEpO1xuICAgICAgICB9KSk7XG4gICAgfTtcbiAgICBEaWdpbW9uLnByb3RvdHlwZS5nZXRQcmV2aW91c0V2b2x1dGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXZFdm9sdXRpb25zO1xuICAgIH07XG4gICAgRGlnaW1vbi5wcm90b3R5cGUuZ2V0TmV4dEV2b2x1dGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRFdm9sdXRpb25zO1xuICAgIH07XG4gICAgcmV0dXJuIERpZ2ltb247XG59KCkpO1xuZXhwb3J0IHsgRGlnaW1vbiB9O1xuIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gaXNTY2hlZHVsZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5zY2hlZHVsZSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc1NjaGVkdWxlci5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi9pc1NjaGVkdWxlcic7XG5mdW5jdGlvbiBsYXN0KGFycikge1xuICAgIHJldHVybiBhcnJbYXJyLmxlbmd0aCAtIDFdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvcFJlc3VsdFNlbGVjdG9yKGFyZ3MpIHtcbiAgICByZXR1cm4gaXNGdW5jdGlvbihsYXN0KGFyZ3MpKSA/IGFyZ3MucG9wKCkgOiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gcG9wU2NoZWR1bGVyKGFyZ3MpIHtcbiAgICByZXR1cm4gaXNTY2hlZHVsZXIobGFzdChhcmdzKSkgPyBhcmdzLnBvcCgpIDogdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBvcE51bWJlcihhcmdzLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIGxhc3QoYXJncykgPT09ICdudW1iZXInID8gYXJncy5wb3AoKSA6IGRlZmF1bHRWYWx1ZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFyZ3MuanMubWFwIiwiaW1wb3J0IHsgcG9wU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuZXhwb3J0IGZ1bmN0aW9uIG9mKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gcG9wU2NoZWR1bGVyKGFyZ3MpO1xuICAgIHJldHVybiBmcm9tKGFyZ3MsIHNjaGVkdWxlcik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vZi5qcy5tYXAiLCJpbXBvcnQgeyBzd2l0Y2hNYXAsIG1hcCB9IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xuaW1wb3J0IHsgRGlnaW1vbiB9IGZyb20gXCIuLi9tb2RlbHMvRGlnaW1vblwiO1xuaW1wb3J0IHsgb2YgfSBmcm9tIFwicnhqc1wiO1xudmFyIERpZ2ltb25Db250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERpZ2ltb25Db250cm9sbGVyKHZpZXcpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcbiAgICAgICAgdGhpcy52aWV3LmJpbmRTZWFyY2goKVxuICAgICAgICAgICAgLnBpcGUoc3dpdGNoTWFwKGZ1bmN0aW9uIChzZWFyY2hUZXJtKSB7IHJldHVybiBEaWdpbW9uLmZldGNoQnlOYW1lKHNlYXJjaFRlcm0pOyB9KSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKGRpZ2ltb25zKSB7XG4gICAgICAgICAgICBfdGhpcy52aWV3LnJlbmRlckRpZ2ltb25zKGRpZ2ltb25zKTtcbiAgICAgICAgICAgIF90aGlzLmJpbmREaWdpbW9uU2VsZWN0aW9uQWZ0ZXJSZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlldy5iaW5kUmVzZXRDbGljaygpXG4gICAgICAgICAgICAucGlwZShzd2l0Y2hNYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gRGlnaW1vbi5mZXRjaEJ5TmFtZSgpOyB9KSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKGRpZ2ltb25zKSB7XG4gICAgICAgICAgICBfdGhpcy52aWV3LnJlbmRlckRpZ2ltb25zKGRpZ2ltb25zKTtcbiAgICAgICAgICAgIF90aGlzLmJpbmREaWdpbW9uU2VsZWN0aW9uQWZ0ZXJSZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmlldy5iaW5kQ2hlY2tib3hlcygpLnBpcGUoc3dpdGNoTWFwKGZ1bmN0aW9uICh0eXBlcykgeyByZXR1cm4gdHlwZXMubGVuZ3RoID8gX3RoaXMuZmV0Y2hCeVR5cGVzKHR5cGVzKSA6IF90aGlzLmZldGNoQWxsRGlnaW1vbnMoKTsgfSkpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKGZ1bmN0aW9uIChkaWdpbW9ucykge1xuICAgICAgICAgICAgX3RoaXMudmlldy5yZW5kZXJEaWdpbW9ucyhkaWdpbW9ucyk7XG4gICAgICAgICAgICBfdGhpcy5iaW5kRGlnaW1vblNlbGVjdGlvbkFmdGVyUmVuZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZXcuYmluZERpZ2ltb25DbGljaygpXG4gICAgICAgICAgICAucGlwZShzd2l0Y2hNYXAoZnVuY3Rpb24gKGlkKSB7IHJldHVybiBpZCA/IERpZ2ltb24uZmV0Y2hCeUlkKGlkKSA6IG9mKG51bGwpOyB9KSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKGRpZ2ltb24pIHtcbiAgICAgICAgICAgIGlmIChkaWdpbW9uKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudmlldy5yZW5kZXJEaWdpbW9uRGV0YWlsKGRpZ2ltb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWV3LmJpbmROYXZpZ2F0aW9uQ2xpY2soKVxuICAgICAgICAgICAgLnBpcGUoc3dpdGNoTWFwKGZ1bmN0aW9uIChkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRDdXJyZW50RGlnaW1vbihkaXJlY3Rpb24pLnBpcGUobWFwKGZ1bmN0aW9uIChkaWdpbW9uKSB7IHJldHVybiAoeyBkaWdpbW9uOiBkaWdpbW9uLCBkaXJlY3Rpb246IGRpcmVjdGlvbiB9KTsgfSkpO1xuICAgICAgICB9KSwgc3dpdGNoTWFwKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGRpZ2ltb24gPSBfYS5kaWdpbW9uLCBkaXJlY3Rpb24gPSBfYS5kaXJlY3Rpb247XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZ2V0RXZvbHV0aW9uRGlnaW1vbihkaWdpbW9uLCBkaXJlY3Rpb24pO1xuICAgICAgICB9KSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoZnVuY3Rpb24gKGRpZ2ltb24pIHtcbiAgICAgICAgICAgIGlmIChkaWdpbW9uKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudmlldy5yZW5kZXJEaWdpbW9uRGV0YWlsKGRpZ2ltb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52aWV3LmJpbmRDb21wYXJlQ2xpY2soKVxuICAgICAgICAgICAgLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWREaWdpbW9ucyA9IF90aGlzLnZpZXcuZ2V0U2VsZWN0ZWREaWdpbW9ucygpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRGlnaW1vbnMubGVuZ3RoID49IDIgJiYgc2VsZWN0ZWREaWdpbW9ucy5sZW5ndGggPD0gNCkge1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZERpZ2ltb25JZHNBc051bWJlcnMgPSBzZWxlY3RlZERpZ2ltb25zLm1hcChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuIE51bWJlcihpZCk7IH0pO1xuICAgICAgICAgICAgICAgIF90aGlzLnZpZXcuc2hvd0NvbXBhcmVNb2RhbChzZWxlY3RlZERpZ2ltb25JZHNBc051bWJlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgYmV0d2VlbiAyIGFuZCA0IERpZ2ltb24gZm9yIGNvbXBhcmlzb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZpZXcuYmluZFNjcm9sbFRvVG9wQnV0dG9uRXZlbnRzKCk7XG4gICAgICAgIERpZ2ltb24uZmV0Y2hCeU5hbWUoKS5zdWJzY3JpYmUoZnVuY3Rpb24gKGRpZ2ltb25zKSB7XG4gICAgICAgICAgICBfdGhpcy52aWV3LnJlbmRlckRpZ2ltb25zKGRpZ2ltb25zKTtcbiAgICAgICAgICAgIF90aGlzLmJpbmREaWdpbW9uU2VsZWN0aW9uQWZ0ZXJSZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vSGVscGVyIGZ1bmN0aW9uc1xuICAgIERpZ2ltb25Db250cm9sbGVyLnByb3RvdHlwZS5mZXRjaEJ5VHlwZXMgPSBmdW5jdGlvbiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIERpZ2ltb24uZmV0Y2hCeU5hbWUoKS5waXBlKG1hcChmdW5jdGlvbiAoZGlnaW1vbnMpIHsgcmV0dXJuIGRpZ2ltb25zLmZpbHRlcihmdW5jdGlvbiAoZGlnaW1vbikgeyByZXR1cm4gdHlwZXMuaW5jbHVkZXMoZGlnaW1vbi50eXBlKTsgfSk7IH0pKTtcbiAgICB9O1xuICAgIERpZ2ltb25Db250cm9sbGVyLnByb3RvdHlwZS5mZXRjaEFsbERpZ2ltb25zID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gRGlnaW1vbi5mZXRjaEJ5TmFtZSgpO1xuICAgIH07XG4gICAgRGlnaW1vbkNvbnRyb2xsZXIucHJvdG90eXBlLmJpbmREaWdpbW9uU2VsZWN0aW9uQWZ0ZXJSZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWREaWdpbW9uJCA9IHRoaXMudmlldy5iaW5kRGlnaW1vblNlbGVjdGlvbigpO1xuICAgIH07XG4gICAgRGlnaW1vbkNvbnRyb2xsZXIucHJvdG90eXBlLmdldEN1cnJlbnREaWdpbW9uID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xuICAgICAgICBpZiAoIWRpcmVjdGlvbilcbiAgICAgICAgICAgIHJldHVybiBvZihudWxsKTtcbiAgICAgICAgdmFyIGRldGFpbEVsZW1lbnQgPSB0aGlzLnZpZXcuZ2V0RGlnaW1vbkxpc3QoKS5xdWVyeVNlbGVjdG9yKFwiLmRpZ2ltb24tZGV0YWlsXCIpO1xuICAgICAgICBpZiAoZGV0YWlsRWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnREaWdpbW9uSWQgPSBwYXJzZUludChkZXRhaWxFbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtaWRcIikgfHwgXCIwXCIpO1xuICAgICAgICAgICAgcmV0dXJuIERpZ2ltb24uZmV0Y2hCeUlkKGN1cnJlbnREaWdpbW9uSWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZihudWxsKTtcbiAgICB9O1xuICAgIERpZ2ltb25Db250cm9sbGVyLnByb3RvdHlwZS5nZXRFdm9sdXRpb25EaWdpbW9uID0gZnVuY3Rpb24gKGRpZ2ltb24sIGRpcmVjdGlvbikge1xuICAgICAgICBpZiAoIWRpZ2ltb24pXG4gICAgICAgICAgICByZXR1cm4gb2YobnVsbCk7XG4gICAgICAgIHZhciBldm9sdXRpb25OYW1lcyA9IGRpcmVjdGlvbiA9PT0gXCJwcmV2XCIgPyBkaWdpbW9uLmdldFByZXZpb3VzRXZvbHV0aW9ucygpIDogZGlnaW1vbi5nZXROZXh0RXZvbHV0aW9ucygpO1xuICAgICAgICBpZiAoZXZvbHV0aW9uTmFtZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdmFyIGV2b2x1dGlvbk5hbWUgPSBldm9sdXRpb25OYW1lc1swXTtcbiAgICAgICAgICAgIHJldHVybiBEaWdpbW9uLmZldGNoU2luZ2xlQnlOYW1lKGV2b2x1dGlvbk5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvZihudWxsKTtcbiAgICB9O1xuICAgIERpZ2ltb25Db250cm9sbGVyLnByb3RvdHlwZS5oYW5kbGVDb21wYXJpc29uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLnNlbGVjdGVkRGlnaW1vbiQuc3Vic2NyaWJlKGZ1bmN0aW9uIChzZWxlY3RlZERpZ2ltb25zKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWREaWdpbW9ucy5sZW5ndGggPj0gMiAmJiBzZWxlY3RlZERpZ2ltb25zLmxlbmd0aCA8PSA0KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudmlldy5zaG93Q29tcGFyZU1vZGFsKHNlbGVjdGVkRGlnaW1vbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ1BsZWFzZSBzZWxlY3QgYmV0d2VlbiAyIGFuZCA0IERpZ2ltb24gZm9yIGNvbXBhcmlzb24uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIERpZ2ltb25Db250cm9sbGVyO1xufSgpKTtcbmV4cG9ydCB7IERpZ2ltb25Db250cm9sbGVyIH07XG4iLCJpbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IG1lcmdlSW50ZXJuYWxzIH0gZnJvbSAnLi9tZXJnZUludGVybmFscyc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHsgY29uY3VycmVudCA9IEluZmluaXR5OyB9XG4gICAgaWYgKGlzRnVuY3Rpb24ocmVzdWx0U2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiBtZXJnZU1hcChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gbWFwKGZ1bmN0aW9uIChiLCBpaSkgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpOyB9KShpbm5lckZyb20ocHJvamVjdChhLCBpKSkpOyB9LCBjb25jdXJyZW50KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnbnVtYmVyJykge1xuICAgICAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHsgcmV0dXJuIG1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2VNYXAuanMubWFwIiwiaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlSW50ZXJuYWxzKHNvdXJjZSwgc3Vic2NyaWJlciwgcHJvamVjdCwgY29uY3VycmVudCwgb25CZWZvcmVOZXh0LCBleHBhbmQsIGlubmVyU3ViU2NoZWR1bGVyLCBhZGRpdGlvbmFsRmluYWxpemVyKSB7XG4gICAgdmFyIGJ1ZmZlciA9IFtdO1xuICAgIHZhciBhY3RpdmUgPSAwO1xuICAgIHZhciBpbmRleCA9IDA7XG4gICAgdmFyIGlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzQ29tcGxldGUgJiYgIWJ1ZmZlci5sZW5ndGggJiYgIWFjdGl2ZSkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgb3V0ZXJOZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7IHJldHVybiAoYWN0aXZlIDwgY29uY3VycmVudCA/IGRvSW5uZXJTdWIodmFsdWUpIDogYnVmZmVyLnB1c2godmFsdWUpKTsgfTtcbiAgICB2YXIgZG9Jbm5lclN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBleHBhbmQgJiYgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICAgICAgYWN0aXZlKys7XG4gICAgICAgIHZhciBpbm5lckNvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIGlubmVyRnJvbShwcm9qZWN0KHZhbHVlLCBpbmRleCsrKSkuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAoaW5uZXJWYWx1ZSkge1xuICAgICAgICAgICAgb25CZWZvcmVOZXh0ID09PSBudWxsIHx8IG9uQmVmb3JlTmV4dCA9PT0gdm9pZCAwID8gdm9pZCAwIDogb25CZWZvcmVOZXh0KGlubmVyVmFsdWUpO1xuICAgICAgICAgICAgaWYgKGV4cGFuZCkge1xuICAgICAgICAgICAgICAgIG91dGVyTmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbm5lclZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaW5uZXJDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGlubmVyQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmUtLTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyZWRWYWx1ZSA9IGJ1ZmZlci5zaGlmdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlubmVyU3ViU2NoZWR1bGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIGlubmVyU3ViU2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvSW5uZXJTdWIoYnVmZmVyZWRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChidWZmZXIubGVuZ3RoICYmIGFjdGl2ZSA8IGNvbmN1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wXzEoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgb3V0ZXJOZXh0LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICBjaGVja0NvbXBsZXRlKCk7XG4gICAgfSkpO1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGFkZGl0aW9uYWxGaW5hbGl6ZXIgPT09IG51bGwgfHwgYWRkaXRpb25hbEZpbmFsaXplciA9PT0gdm9pZCAwID8gdm9pZCAwIDogYWRkaXRpb25hbEZpbmFsaXplcigpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZUludGVybmFscy5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IG1hcCB9IGZyb20gXCIuLi9vcGVyYXRvcnMvbWFwXCI7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5mdW5jdGlvbiBjYWxsT3JBcHBseShmbiwgYXJncykge1xuICAgIHJldHVybiBpc0FycmF5KGFyZ3MpID8gZm4uYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoYXJncykpKSA6IGZuKGFyZ3MpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1hcE9uZU9yTWFueUFyZ3MoZm4pIHtcbiAgICByZXR1cm4gbWFwKGZ1bmN0aW9uIChhcmdzKSB7IHJldHVybiBjYWxsT3JBcHBseShmbiwgYXJncyk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwT25lT3JNYW55QXJncy5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IG1lcmdlTWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21lcmdlTWFwJztcbmltcG9ydCB7IGlzQXJyYXlMaWtlIH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5TGlrZSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG1hcE9uZU9yTWFueUFyZ3MgfSBmcm9tICcuLi91dGlsL21hcE9uZU9yTWFueUFyZ3MnO1xudmFyIG5vZGVFdmVudEVtaXR0ZXJNZXRob2RzID0gWydhZGRMaXN0ZW5lcicsICdyZW1vdmVMaXN0ZW5lciddO1xudmFyIGV2ZW50VGFyZ2V0TWV0aG9kcyA9IFsnYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJ107XG52YXIganF1ZXJ5TWV0aG9kcyA9IFsnb24nLCAnb2ZmJ107XG5leHBvcnQgZnVuY3Rpb24gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zLCByZXN1bHRTZWxlY3Rvcikge1xuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQodGFyZ2V0LCBldmVudE5hbWUsIG9wdGlvbnMpLnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpO1xuICAgIH1cbiAgICB2YXIgX2EgPSBfX3JlYWQoaXNFdmVudFRhcmdldCh0YXJnZXQpXG4gICAgICAgID8gZXZlbnRUYXJnZXRNZXRob2RzLm1hcChmdW5jdGlvbiAobWV0aG9kTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpOyB9OyB9KVxuICAgICAgICA6XG4gICAgICAgICAgICBpc05vZGVTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpXG4gICAgICAgICAgICAgICAgPyBub2RlRXZlbnRFbWl0dGVyTWV0aG9kcy5tYXAodG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgIDogaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgID8ganF1ZXJ5TWV0aG9kcy5tYXAodG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpKVxuICAgICAgICAgICAgICAgICAgICA6IFtdLCAyKSwgYWRkID0gX2FbMF0sIHJlbW92ZSA9IF9hWzFdO1xuICAgIGlmICghYWRkKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZSh0YXJnZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VNYXAoZnVuY3Rpb24gKHN1YlRhcmdldCkgeyByZXR1cm4gZnJvbUV2ZW50KHN1YlRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKTsgfSkoaW5uZXJGcm9tKHRhcmdldCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghYWRkKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdWJzY3JpYmVyLm5leHQoMSA8IGFyZ3MubGVuZ3RoID8gYXJncyA6IGFyZ3NbMF0pO1xuICAgICAgICB9O1xuICAgICAgICBhZGQoaGFuZGxlcik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiByZW1vdmUoaGFuZGxlcik7IH07XG4gICAgfSk7XG59XG5mdW5jdGlvbiB0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAobWV0aG9kTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIpOyB9OyB9O1xufVxuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZExpc3RlbmVyKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5yZW1vdmVMaXN0ZW5lcik7XG59XG5mdW5jdGlvbiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldCkge1xuICAgIHJldHVybiBpc0Z1bmN0aW9uKHRhcmdldC5vbikgJiYgaXNGdW5jdGlvbih0YXJnZXQub2ZmKTtcbn1cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQodGFyZ2V0KSB7XG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpICYmIGlzRnVuY3Rpb24odGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50LmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgRU1QVFkgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KTtcbmV4cG9ydCBmdW5jdGlvbiBlbXB0eShzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSA6IEVNUFRZO1xufVxuZnVuY3Rpb24gZW1wdHlTY2hlZHVsZWQoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9KTsgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbXB0eS5qcy5tYXAiLCJpbXBvcnQgeyBtZXJnZUFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9tZXJnZUFsbCc7XG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuL2lubmVyRnJvbSc7XG5pbXBvcnQgeyBFTVBUWSB9IGZyb20gJy4vZW1wdHknO1xuaW1wb3J0IHsgcG9wTnVtYmVyLCBwb3BTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2FyZ3MnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2UoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBwb3BTY2hlZHVsZXIoYXJncyk7XG4gICAgdmFyIGNvbmN1cnJlbnQgPSBwb3BOdW1iZXIoYXJncywgSW5maW5pdHkpO1xuICAgIHZhciBzb3VyY2VzID0gYXJncztcbiAgICByZXR1cm4gIXNvdXJjZXMubGVuZ3RoXG4gICAgICAgID9cbiAgICAgICAgICAgIEVNUFRZXG4gICAgICAgIDogc291cmNlcy5sZW5ndGggPT09IDFcbiAgICAgICAgICAgID9cbiAgICAgICAgICAgICAgICBpbm5lckZyb20oc291cmNlc1swXSlcbiAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICBtZXJnZUFsbChjb25jdXJyZW50KShmcm9tKHNvdXJjZXMsIHNjaGVkdWxlcikpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVyZ2UuanMubWFwIiwiaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VBbGwoY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHsgY29uY3VycmVudCA9IEluZmluaXR5OyB9XG4gICAgcmV0dXJuIG1lcmdlTWFwKGlkZW50aXR5LCBjb25jdXJyZW50KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlQWxsLmpzLm1hcCIsInZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciBnZXRQcm90b3R5cGVPZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiwgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBnZXRLZXlzID0gT2JqZWN0LmtleXM7XG5leHBvcnQgZnVuY3Rpb24gYXJnc0FyZ0FycmF5T3JPYmplY3QoYXJncykge1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICB2YXIgZmlyc3RfMSA9IGFyZ3NbMF07XG4gICAgICAgIGlmIChpc0FycmF5KGZpcnN0XzEpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBhcmdzOiBmaXJzdF8xLCBrZXlzOiBudWxsIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUE9KTyhmaXJzdF8xKSkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBnZXRLZXlzKGZpcnN0XzEpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhcmdzOiBrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBmaXJzdF8xW2tleV07IH0pLFxuICAgICAgICAgICAgICAgIGtleXM6IGtleXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGFyZ3M6IGFyZ3MsIGtleXM6IG51bGwgfTtcbn1cbmZ1bmN0aW9uIGlzUE9KTyhvYmopIHtcbiAgICByZXR1cm4gb2JqICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIGdldFByb3RvdHlwZU9mKG9iaikgPT09IG9iamVjdFByb3RvO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJnc0FyZ0FycmF5T3JPYmplY3QuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgYXJnc0FyZ0FycmF5T3JPYmplY3QgfSBmcm9tICcuLi91dGlsL2FyZ3NBcmdBcnJheU9yT2JqZWN0JztcbmltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4vaW5uZXJGcm9tJztcbmltcG9ydCB7IHBvcFJlc3VsdFNlbGVjdG9yIH0gZnJvbSAnLi4vdXRpbC9hcmdzJztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4uL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XG5pbXBvcnQgeyBjcmVhdGVPYmplY3QgfSBmcm9tICcuLi91dGlsL2NyZWF0ZU9iamVjdCc7XG5leHBvcnQgZnVuY3Rpb24gZm9ya0pvaW4oKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IHBvcFJlc3VsdFNlbGVjdG9yKGFyZ3MpO1xuICAgIHZhciBfYSA9IGFyZ3NBcmdBcnJheU9yT2JqZWN0KGFyZ3MpLCBzb3VyY2VzID0gX2EuYXJncywga2V5cyA9IF9hLmtleXM7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgICAgIHZhciByZW1haW5pbmdDb21wbGV0aW9ucyA9IGxlbmd0aDtcbiAgICAgICAgdmFyIHJlbWFpbmluZ0VtaXNzaW9ucyA9IGxlbmd0aDtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoc291cmNlSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaW5uZXJGcm9tKHNvdXJjZXNbc291cmNlSW5kZXhdKS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICghaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZW1haW5pbmdFbWlzc2lvbnMtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFsdWVzW3NvdXJjZUluZGV4XSA9IHZhbHVlO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtYWluaW5nQ29tcGxldGlvbnMtLTsgfSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZW1haW5pbmdDb21wbGV0aW9ucyB8fCAhaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFyZW1haW5pbmdFbWlzc2lvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChrZXlzID8gY3JlYXRlT2JqZWN0KGtleXMsIHZhbHVlcykgOiB2YWx1ZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH07XG4gICAgICAgIGZvciAodmFyIHNvdXJjZUluZGV4ID0gMDsgc291cmNlSW5kZXggPCBsZW5ndGg7IHNvdXJjZUluZGV4KyspIHtcbiAgICAgICAgICAgIF9sb29wXzEoc291cmNlSW5kZXgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdFNlbGVjdG9yID8gcmVzdWx0LnBpcGUobWFwT25lT3JNYW55QXJncyhyZXN1bHRTZWxlY3RvcikpIDogcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ya0pvaW4uanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU9iamVjdChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4ga2V5cy5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5LCBpKSB7IHJldHVybiAoKHJlc3VsdFtrZXldID0gdmFsdWVzW2ldKSwgcmVzdWx0KTsgfSwge30pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlT2JqZWN0LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbnZhciBBY3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICB9XG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgcmV0dXJuIEFjdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG5leHBvcnQgeyBBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjdGlvbi5qcy5tYXAiLCJpbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmV4cG9ydCB2YXIgaW50ZXJ2YWxQcm92aWRlciA9IHtcbiAgICBzZXRJbnRlcnZhbDogZnVuY3Rpb24gKGhhbmRsZXIsIHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlbGVnYXRlID0gaW50ZXJ2YWxQcm92aWRlci5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRJbnRlcnZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGVnYXRlLnNldEludGVydmFsLmFwcGx5KGRlbGVnYXRlLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldEludGVydmFsLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbaGFuZGxlciwgdGltZW91dF0sIF9fcmVhZChhcmdzKSkpO1xuICAgIH0sXG4gICAgY2xlYXJJbnRlcnZhbDogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICB2YXIgZGVsZWdhdGUgPSBpbnRlcnZhbFByb3ZpZGVyLmRlbGVnYXRlO1xuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJJbnRlcnZhbCkgfHwgY2xlYXJJbnRlcnZhbCkoaGFuZGxlKTtcbiAgICB9LFxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWxQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vQWN0aW9uJztcbmltcG9ydCB7IGludGVydmFsUHJvdmlkZXIgfSBmcm9tICcuL2ludGVydmFsUHJvdmlkZXInO1xuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi4vdXRpbC9hcnJSZW1vdmUnO1xudmFyIEFzeW5jQWN0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXN5bmNBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgX3RoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgICAgIHRoaXMuaWQgPSAoX2EgPSB0aGlzLmlkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLnJlcXVlc3RBc3luY0lkKHNjaGVkdWxlciwgdGhpcy5pZCwgZGVsYXkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZCA9IGZ1bmN0aW9uIChzY2hlZHVsZXIsIF9pZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBpbnRlcnZhbFByb3ZpZGVyLnNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5yZWN5Y2xlQXN5bmNJZCA9IGZ1bmN0aW9uIChfc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIGlmIChkZWxheSAhPSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGRlbGF5ICYmIHRoaXMucGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgaW50ZXJ2YWxQcm92aWRlci5jbGVhckludGVydmFsKGlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucGVuZGluZyA9PT0gZmFsc2UgJiYgdGhpcy5pZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZCh0aGlzLnNjaGVkdWxlciwgdGhpcy5pZCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5fZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgX2RlbGF5KSB7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvclZhbHVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53b3JrKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICBlcnJvclZhbHVlID0gZSA/IGUgOiBuZXcgRXJyb3IoJ1NjaGVkdWxlZCBhY3Rpb24gdGhyZXcgZmFsc3kgZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JlZCkge1xuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yVmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdmFyIF9hID0gdGhpcywgaWQgPSBfYS5pZCwgc2NoZWR1bGVyID0gX2Euc2NoZWR1bGVyO1xuICAgICAgICAgICAgdmFyIGFjdGlvbnMgPSBzY2hlZHVsZXIuYWN0aW9ucztcbiAgICAgICAgICAgIHRoaXMud29yayA9IHRoaXMuc3RhdGUgPSB0aGlzLnNjaGVkdWxlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIGFyclJlbW92ZShhY3Rpb25zLCB0aGlzKTtcbiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jQWN0aW9uO1xufShBY3Rpb24pKTtcbmV4cG9ydCB7IEFzeW5jQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY0FjdGlvbi5qcy5tYXAiLCJleHBvcnQgdmFyIGRhdGVUaW1lc3RhbXBQcm92aWRlciA9IHtcbiAgICBub3c6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIChkYXRlVGltZXN0YW1wUHJvdmlkZXIuZGVsZWdhdGUgfHwgRGF0ZSkubm93KCk7XG4gICAgfSxcbiAgICBkZWxlZ2F0ZTogdW5kZWZpbmVkLFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGVUaW1lc3RhbXBQcm92aWRlci5qcy5tYXAiLCJpbXBvcnQgeyBkYXRlVGltZXN0YW1wUHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci9kYXRlVGltZXN0YW1wUHJvdmlkZXInO1xudmFyIFNjaGVkdWxlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKHNjaGVkdWxlckFjdGlvbkN0b3IsIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IgPSBzY2hlZHVsZXJBY3Rpb25DdG9yO1xuICAgICAgICB0aGlzLm5vdyA9IG5vdztcbiAgICB9XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yKHRoaXMsIHdvcmspLnNjaGVkdWxlKHN0YXRlLCBkZWxheSk7XG4gICAgfTtcbiAgICBTY2hlZHVsZXIubm93ID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdztcbiAgICByZXR1cm4gU2NoZWR1bGVyO1xufSgpKTtcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NoZWR1bGVyLmpzLm1hcCIsImltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhc3luY1NjaGVkdWxlciA9IG5ldyBBc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbik7XG5leHBvcnQgdmFyIGFzeW5jID0gYXN5bmNTY2hlZHVsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG52YXIgQXN5bmNTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhBc3luY1NjaGVkdWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc3luY1NjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHsgbm93ID0gU2NoZWR1bGVyLm5vdzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIG5vdykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5fYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXN5bmNTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgaWYgKHRoaXMuX2FjdGl2ZSkge1xuICAgICAgICAgICAgYWN0aW9ucy5wdXNoKGFjdGlvbik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSk7XG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlICgoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc3luY1NjaGVkdWxlcjtcbn0oU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBc3luY1NjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXN5bmNTY2hlZHVsZXIuanMubWFwIiwiaW1wb3J0IHsgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuLi9zY2hlZHVsZXIvYXN5bmMnO1xuaW1wb3J0IHsgdGhyb3R0bGUgfSBmcm9tICcuL3Rocm90dGxlJztcbmltcG9ydCB7IHRpbWVyIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS90aW1lcic7XG5leHBvcnQgZnVuY3Rpb24gdGhyb3R0bGVUaW1lKGR1cmF0aW9uLCBzY2hlZHVsZXIsIGNvbmZpZykge1xuICAgIGlmIChzY2hlZHVsZXIgPT09IHZvaWQgMCkgeyBzY2hlZHVsZXIgPSBhc3luY1NjaGVkdWxlcjsgfVxuICAgIHZhciBkdXJhdGlvbiQgPSB0aW1lcihkdXJhdGlvbiwgc2NoZWR1bGVyKTtcbiAgICByZXR1cm4gdGhyb3R0bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gZHVyYXRpb24kOyB9LCBjb25maWcpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3R0bGVUaW1lLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGFzeW5jIGFzIGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBpc1ZhbGlkRGF0ZSB9IGZyb20gJy4uL3V0aWwvaXNEYXRlJztcbmV4cG9ydCBmdW5jdGlvbiB0aW1lcihkdWVUaW1lLCBpbnRlcnZhbE9yU2NoZWR1bGVyLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoZHVlVGltZSA9PT0gdm9pZCAwKSB7IGR1ZVRpbWUgPSAwOyB9XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jU2NoZWR1bGVyOyB9XG4gICAgdmFyIGludGVydmFsRHVyYXRpb24gPSAtMTtcbiAgICBpZiAoaW50ZXJ2YWxPclNjaGVkdWxlciAhPSBudWxsKSB7XG4gICAgICAgIGlmIChpc1NjaGVkdWxlcihpbnRlcnZhbE9yU2NoZWR1bGVyKSkge1xuICAgICAgICAgICAgc2NoZWR1bGVyID0gaW50ZXJ2YWxPclNjaGVkdWxlcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGludGVydmFsRHVyYXRpb24gPSBpbnRlcnZhbE9yU2NoZWR1bGVyO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgZHVlID0gaXNWYWxpZERhdGUoZHVlVGltZSkgPyArZHVlVGltZSAtIHNjaGVkdWxlci5ub3coKSA6IGR1ZVRpbWU7XG4gICAgICAgIGlmIChkdWUgPCAwKSB7XG4gICAgICAgICAgICBkdWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuID0gMDtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KG4rKyk7XG4gICAgICAgICAgICAgICAgaWYgKDAgPD0gaW50ZXJ2YWxEdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKHVuZGVmaW5lZCwgaW50ZXJ2YWxEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCBkdWUpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXIuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWREYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4odmFsdWUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNEYXRlLmpzLm1hcCIsImltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKGR1cmF0aW9uU2VsZWN0b3IsIGNvbmZpZykge1xuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIF9hID0gY29uZmlnICE9PSBudWxsICYmIGNvbmZpZyAhPT0gdm9pZCAwID8gY29uZmlnIDoge30sIF9iID0gX2EubGVhZGluZywgbGVhZGluZyA9IF9iID09PSB2b2lkIDAgPyB0cnVlIDogX2IsIF9jID0gX2EudHJhaWxpbmcsIHRyYWlsaW5nID0gX2MgPT09IHZvaWQgMCA/IGZhbHNlIDogX2M7XG4gICAgICAgIHZhciBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgc2VuZFZhbHVlID0gbnVsbDtcbiAgICAgICAgdmFyIHRocm90dGxlZCA9IG51bGw7XG4gICAgICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XG4gICAgICAgIHZhciBlbmRUaHJvdHRsaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhyb3R0bGVkID09PSBudWxsIHx8IHRocm90dGxlZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGhyb3R0bGVkLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aHJvdHRsZWQgPSBudWxsO1xuICAgICAgICAgICAgaWYgKHRyYWlsaW5nKSB7XG4gICAgICAgICAgICAgICAgc2VuZCgpO1xuICAgICAgICAgICAgICAgIGlzQ29tcGxldGUgJiYgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YXIgY2xlYW51cFRocm90dGxpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aHJvdHRsZWQgPSBudWxsO1xuICAgICAgICAgICAgaXNDb21wbGV0ZSAmJiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHZhciBzdGFydFRocm90dGxlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRocm90dGxlZCA9IGlubmVyRnJvbShkdXJhdGlvblNlbGVjdG9yKHZhbHVlKSkuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBlbmRUaHJvdHRsaW5nLCBjbGVhbnVwVGhyb3R0bGluZykpKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHNlbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaGFzVmFsdWUpIHtcbiAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNlbmRWYWx1ZTtcbiAgICAgICAgICAgICAgICBzZW5kVmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgIWlzQ29tcGxldGUgJiYgc3RhcnRUaHJvdHRsZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgaGFzVmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgc2VuZFZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAhKHRocm90dGxlZCAmJiAhdGhyb3R0bGVkLmNsb3NlZCkgJiYgKGxlYWRpbmcgPyBzZW5kKCkgOiBzdGFydFRocm90dGxlKHZhbHVlKSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xuICAgICAgICAgICAgISh0cmFpbGluZyAmJiBoYXNWYWx1ZSAmJiB0aHJvdHRsZWQgJiYgIXRocm90dGxlZC5jbG9zZWQpICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3R0bGUuanMubWFwIiwiZXhwb3J0IHZhciBjcmVhdGVEaWdpbW9uVGlsZSA9IGZ1bmN0aW9uIChkaWdpbW9uKSB7XG4gICAgdmFyIGRpZ2ltb25UaWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICBkaWdpbW9uVGlsZS5jbGFzc0xpc3QuYWRkKFwiZGlnaW1vbi10aWxlXCIpO1xuICAgIGRpZ2ltb25UaWxlLnNldEF0dHJpYnV0ZShcImRhdGEtaWRcIiwgZGlnaW1vbi5pZC50b1N0cmluZygpKTtcbiAgICB2YXIgZGlnaW1vbkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgZGlnaW1vbkltZy5zcmMgPSBkaWdpbW9uLmltYWdlO1xuICAgIGRpZ2ltb25JbWcuYWx0ID0gZGlnaW1vbi5uYW1lO1xuICAgIGRpZ2ltb25JbWcuY2xhc3NMaXN0LmFkZChcImRpZ2ltb25JbWctdGlsZVwiKTtcbiAgICBkaWdpbW9uVGlsZS5hcHBlbmRDaGlsZChkaWdpbW9uSW1nKTtcbiAgICB2YXIgZGlnaW1vbk5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBkaWdpbW9uTmFtZS5jbGFzc0xpc3QuYWRkKFwiZGlnaW1vbi1uYW1lLXRpbGVcIik7XG4gICAgZGlnaW1vbk5hbWUudGV4dENvbnRlbnQgPSBkaWdpbW9uLm5hbWU7XG4gICAgZGlnaW1vblRpbGUuYXBwZW5kQ2hpbGQoZGlnaW1vbk5hbWUpO1xuICAgIHZhciBsYWJlbFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gICAgbGFiZWxXcmFwcGVyLmNsYXNzTGlzdC5hZGQoXCJkaWdpbW9uLWNvbXBhcmUtbGFiZWxcIik7XG4gICAgdmFyIGNoZWNrYm94Q29tcGFyZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBjaGVja2JveENvbXBhcmUudHlwZSA9IFwiY2hlY2tib3hcIjtcbiAgICBjaGVja2JveENvbXBhcmUuY2xhc3NMaXN0LmFkZChcImRpZ2ltb24tY29tcGFyZS1jaGVja2JveFwiKTtcbiAgICBjaGVja2JveENvbXBhcmUuc2V0QXR0cmlidXRlKFwiZGF0YS1pZFwiLCBkaWdpbW9uLmlkLnRvU3RyaW5nKCkpO1xuICAgIHZhciBjb21wYXJlVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgIGNvbXBhcmVUZXh0LnRleHRDb250ZW50ID0gXCJDb21wYXJlXCI7XG4gICAgY29tcGFyZVRleHQuY2xhc3NMaXN0LmFkZChcImRpZ2ltb24tY29tcGFyZS10ZXh0XCIpO1xuICAgIGxhYmVsV3JhcHBlci5hcHBlbmRDaGlsZChjaGVja2JveENvbXBhcmUpO1xuICAgIGxhYmVsV3JhcHBlci5hcHBlbmRDaGlsZChjb21wYXJlVGV4dCk7XG4gICAgZGlnaW1vblRpbGUuYXBwZW5kQ2hpbGQobGFiZWxXcmFwcGVyKTtcbiAgICBsYWJlbFdyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgICByZXR1cm4gZGlnaW1vblRpbGU7XG59O1xuZXhwb3J0IHZhciBjcmVhdGVEaWdpbW9uRGV0YWlsID0gZnVuY3Rpb24gKGRpZ2ltb24pIHtcbiAgICB2YXIgZGlnaW1vbkRldGFpbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGlnaW1vbkRldGFpbC5jbGFzc0xpc3QuYWRkKFwiZGlnaW1vbi1kZXRhaWxcIik7XG4gICAgZGlnaW1vbkRldGFpbC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIsIGRpZ2ltb24uaWQudG9TdHJpbmcoKSk7XG4gICAgdmFyIGRpZ2ltb25JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgIGRpZ2ltb25JbWcuc3JjID0gZGlnaW1vbi5pbWFnZTtcbiAgICBkaWdpbW9uSW1nLmFsdCA9IGRpZ2ltb24ubmFtZTtcbiAgICBkaWdpbW9uSW1nLmNsYXNzTGlzdC5hZGQoXCJkaWdpbW9uSW1nLWRldGFpbFwiKTtcbiAgICBkaWdpbW9uRGV0YWlsLmFwcGVuZENoaWxkKGRpZ2ltb25JbWcpO1xuICAgIHZhciBkaWdpbW9uTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICBkaWdpbW9uTmFtZS5jbGFzc0xpc3QuYWRkKFwiZGlnaW1vbi1uYW1lLWRldGFpbFwiKTtcbiAgICBkaWdpbW9uTmFtZS50ZXh0Q29udGVudCA9IGRpZ2ltb24ubmFtZTtcbiAgICBkaWdpbW9uRGV0YWlsLmFwcGVuZENoaWxkKGRpZ2ltb25OYW1lKTtcbiAgICB2YXIgYXR0cmlidXRlc0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgYXR0cmlidXRlc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiYXR0cmlidXRlcy1jb250YWluZXJcIik7XG4gICAgdmFyIGF0dHJpYnV0ZXMgPSBbeyBsYWJlbDogXCJMZXZlbFwiLCB2YWx1ZTogZGlnaW1vbi5sZXZlbCB9LFxuICAgICAgICB7IGxhYmVsOiBcIkF0dHJpYnV0ZVwiLCB2YWx1ZTogZGlnaW1vbi5hdHRyaWJ1dGUgfSxcbiAgICAgICAgeyBsYWJlbDogXCJUeXBlXCIsIHZhbHVlOiBkaWdpbW9uLnR5cGUgfVxuICAgIF07XG4gICAgYXR0cmlidXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgICAgIGNyZWF0ZUF0dHJpYnV0ZShhdHRyaWJ1dGVzQ29udGFpbmVyLCBhLmxhYmVsLCBhLnZhbHVlKTtcbiAgICB9KTtcbiAgICBkaWdpbW9uRGV0YWlsLmFwcGVuZENoaWxkKGF0dHJpYnV0ZXNDb250YWluZXIpO1xuICAgIGlmIChkaWdpbW9uLnByZXZFdm9sdXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIHByZXZBcnJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICAgIHByZXZBcnJvdy5jbGFzc0xpc3QuYWRkKFwibmF2aWdhdGlvbi1hcnJvd1wiLCBcIm5hdmlnYXRpb24tYXJyb3ctcHJldlwiKTtcbiAgICAgICAgcHJldkFycm93LnNldEF0dHJpYnV0ZShcImRhdGEtZGlyZWN0aW9uXCIsIFwicHJldlwiKTtcbiAgICAgICAgcHJldkFycm93LnRleHRDb250ZW50ID0gZGlnaW1vbi5wcmV2RXZvbHV0aW9uc1swXTtcbiAgICAgICAgZGlnaW1vbkRldGFpbC5hcHBlbmRDaGlsZChwcmV2QXJyb3cpO1xuICAgIH1cbiAgICBpZiAoZGlnaW1vbi5uZXh0RXZvbHV0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBuZXh0QXJyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICBuZXh0QXJyb3cuY2xhc3NMaXN0LmFkZChcIm5hdmlnYXRpb24tYXJyb3dcIiwgXCJuYXZpZ2F0aW9uLWFycm93LW5leHRcIik7XG4gICAgICAgIG5leHRBcnJvdy5zZXRBdHRyaWJ1dGUoXCJkYXRhLWRpcmVjdGlvblwiLCBcIm5leHRcIik7XG4gICAgICAgIG5leHRBcnJvdy50ZXh0Q29udGVudCA9IGRpZ2ltb24ubmV4dEV2b2x1dGlvbnNbMF07XG4gICAgICAgIGRpZ2ltb25EZXRhaWwuYXBwZW5kQ2hpbGQobmV4dEFycm93KTtcbiAgICB9XG4gICAgcmV0dXJuIGRpZ2ltb25EZXRhaWw7XG59O1xuZXhwb3J0IHZhciBjcmVhdGVEaWdpbW9uQ29tcGFyZVRpbGUgPSBmdW5jdGlvbiAoZGlnaW1vbikge1xuICAgIHZhciBkaWdpbW9uQ2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgZGlnaW1vbkNhcmQuY2xhc3NMaXN0LmFkZChcImRpZ2ltb24tY2FyZFwiKTtcbiAgICB2YXIgZGlnaW1vbkltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgZGlnaW1vbkltZy5zcmMgPSBkaWdpbW9uLmltYWdlO1xuICAgIGRpZ2ltb25JbWcuYWx0ID0gZGlnaW1vbi5uYW1lO1xuICAgIGRpZ2ltb25JbWcuY2xhc3NMaXN0LmFkZChcImRpZ2ltb25JbWctdGlsZVwiKTtcbiAgICBkaWdpbW9uQ2FyZC5hcHBlbmRDaGlsZChkaWdpbW9uSW1nKTtcbiAgICB2YXIgZGlnaW1vbk5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBkaWdpbW9uTmFtZS5jbGFzc0xpc3QuYWRkKFwiZGlnaW1vbi1uYW1lLXRpbGVcIik7XG4gICAgZGlnaW1vbk5hbWUuaW5uZXJIVE1MID0gXCI8c3Ryb25nPk5hbWU6PC9zdHJvbmc+IFwiLmNvbmNhdChkaWdpbW9uLm5hbWUpO1xuICAgIGRpZ2ltb25DYXJkLmFwcGVuZENoaWxkKGRpZ2ltb25OYW1lKTtcbiAgICB2YXIgZGlnaW1vbkxldmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgZGlnaW1vbkxldmVsLmNsYXNzTGlzdC5hZGQoXCJkaWdpbW9uLWxldmVsLXRpbGVcIik7XG4gICAgZGlnaW1vbkxldmVsLmlubmVySFRNTCA9IFwiPHN0cm9uZz5MZXZlbDo8L3N0cm9uZz4gXCIuY29uY2F0KGRpZ2ltb24ubGV2ZWwpO1xuICAgIGRpZ2ltb25DYXJkLmFwcGVuZENoaWxkKGRpZ2ltb25MZXZlbCk7XG4gICAgdmFyIGRpZ2ltb25BdHRyaWJ1dGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBkaWdpbW9uQXR0cmlidXRlLmNsYXNzTGlzdC5hZGQoXCJkaWdpbW9uLWF0dHJpYnV0ZS10aWxlXCIpO1xuICAgIGRpZ2ltb25BdHRyaWJ1dGUuaW5uZXJIVE1MID0gXCI8c3Ryb25nPkF0dHJpYnV0ZTo8L3N0cm9uZz4gXCIuY29uY2F0KGRpZ2ltb24uYXR0cmlidXRlKTtcbiAgICBkaWdpbW9uQ2FyZC5hcHBlbmRDaGlsZChkaWdpbW9uQXR0cmlidXRlKTtcbiAgICB2YXIgZGlnaW1vblR5cGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBkaWdpbW9uVHlwZS5jbGFzc0xpc3QuYWRkKFwiZGlnaW1vbi10eXBlLXRpbGVcIik7XG4gICAgZGlnaW1vblR5cGUuaW5uZXJIVE1MID0gXCI8c3Ryb25nPlR5cGU6PC9zdHJvbmc+IFwiLmNvbmNhdChkaWdpbW9uLnR5cGUpO1xuICAgIGRpZ2ltb25DYXJkLmFwcGVuZENoaWxkKGRpZ2ltb25UeXBlKTtcbiAgICByZXR1cm4gZGlnaW1vbkNhcmQ7XG59O1xuZnVuY3Rpb24gY3JlYXRlQXR0cmlidXRlKGNvbnQsIGxhYmVsLCB2YWx1ZSkge1xuICAgIHZhciBhdHRyaWJ1dGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGF0dHJpYnV0ZS5jbGFzc0xpc3QuYWRkKFwiYXR0cmlidXRlXCIpO1xuICAgIHZhciBhdHRyaWJ1dGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuICAgIGF0dHJpYnV0ZUxhYmVsLmNsYXNzTGlzdC5hZGQoXCJhdHRyaWJ1dGUtbGFiZWxcIik7XG4gICAgYXR0cmlidXRlTGFiZWwudGV4dENvbnRlbnQgPSBsYWJlbDtcbiAgICB2YXIgYXR0cmlidXRlVmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICBhdHRyaWJ1dGVWYWx1ZS5jbGFzc0xpc3QuYWRkKFwiYXR0cmlidXRlLXZhbHVlXCIpO1xuICAgIGF0dHJpYnV0ZVZhbHVlLnRleHRDb250ZW50ID0gdmFsdWU7XG4gICAgYXR0cmlidXRlLmFwcGVuZENoaWxkKGF0dHJpYnV0ZUxhYmVsKTtcbiAgICBhdHRyaWJ1dGUuYXBwZW5kQ2hpbGQoYXR0cmlidXRlVmFsdWUpO1xuICAgIGNvbnQuYXBwZW5kQ2hpbGQoYXR0cmlidXRlKTtcbn1cbiIsImltcG9ydCB7IGZyb21FdmVudCwgbWVyZ2UsIGZvcmtKb2luIH0gZnJvbSBcInJ4anNcIjtcbmltcG9ydCB7IGRlYm91bmNlVGltZSwgbWFwLCB0aHJvdHRsZVRpbWUgfSBmcm9tIFwicnhqcy9vcGVyYXRvcnNcIjtcbmltcG9ydCB7IERpZ2ltb24gfSBmcm9tIFwiLi4vbW9kZWxzL0RpZ2ltb25cIjtcbmltcG9ydCB7IGNyZWF0ZURpZ2ltb25EZXRhaWwsIGNyZWF0ZURpZ2ltb25UaWxlLCBjcmVhdGVEaWdpbW9uQ29tcGFyZVRpbGUgfSBmcm9tIFwiLi90ZW1wbGF0ZXMvRGlnaW1vblRlbXBsYXRlXCI7XG52YXIgRGlnaW1vblZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGlnaW1vblZpZXcoY29udGFpbmVyKSB7XG4gICAgICAgIHRoaXMuY2hlY2tCb3hlcyA9IFtdO1xuICAgICAgICB0aGlzLmRpZ2ltb25MaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5kaWdpbW9uTGlzdC5jbGFzc0xpc3QuYWRkKFwiZGlnaW1vbi1saXN0XCIpO1xuICAgICAgICB2YXIgc2VhcmNoQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgc2VhcmNoQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJzZWFyY2gtY29udGFpbmVyXCIpO1xuICAgICAgICB2YXIgcmVzZXRJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ0blwiKTtcbiAgICAgICAgcmVzZXRJY29uLmNsYXNzTGlzdC5hZGQoXCJyZXNldC1idG5cIik7XG4gICAgICAgIHRoaXMucmVzZXRCdG4gPSByZXNldEljb247XG4gICAgICAgIHNlYXJjaENvbnRhaW5lci5hcHBlbmRDaGlsZChyZXNldEljb24pO1xuICAgICAgICB0aGlzLnNlYXJjaElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xuICAgICAgICB0aGlzLnNlYXJjaElucHV0LnR5cGUgPSBcInRleHRcIjtcbiAgICAgICAgdGhpcy5zZWFyY2hJbnB1dC5jbGFzc0xpc3QuYWRkKFwiZGlnaW1vbi1zZWFyY2hcIik7XG4gICAgICAgIHRoaXMuc2VhcmNoSW5wdXQubmFtZSA9IFwiZGlnaW1vbi1zZWFyY2hcIjtcbiAgICAgICAgdGhpcy5zZWFyY2hJbnB1dC5wbGFjZWhvbGRlciA9IFwiU2VhcmNoIERpZ2ltb25cIjtcbiAgICAgICAgc2VhcmNoQ29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuc2VhcmNoSW5wdXQpO1xuICAgICAgICB0aGlzLmNvbXBhcmVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICB0aGlzLmNvbXBhcmVCdG4uY2xhc3NMaXN0LmFkZChcImNvbXBhcmUtYnRuXCIpO1xuICAgICAgICB0aGlzLmNvbXBhcmVCdG4uaW5uZXJIVE1MID0gXCJDb21wYXJlXCI7XG4gICAgICAgIHNlYXJjaENvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNvbXBhcmVCdG4pO1xuICAgICAgICB0aGlzLmNoZWNrQm94Q29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdGhpcy5jaGVja0JveENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiY2hlY2tib3gtY29udGFpbmVyXCIpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc2VhcmNoQ29udGFpbmVyKTtcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY2hlY2tCb3hDb250YWluZXIpO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5kaWdpbW9uTGlzdCk7XG4gICAgICAgIHRoaXMuYWRkQ2hlY2tCb3hlcygpO1xuICAgICAgICB0aGlzLnNjcm9sbFRvVG9wQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9Ub3BCdG4uY2xhc3NMaXN0LmFkZChcInNjcm9sbFRvcC1idG5cIik7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9Ub3BCdG4uaW5uZXJUZXh0ID0gJ14nO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5zY3JvbGxUb1RvcEJ0bik7XG4gICAgICAgIHRoaXMuc2Nyb2xsVG9Ub3BCdG4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbiAgICAvL0JpbmRlciBibG9ja1xuICAgIERpZ2ltb25WaWV3LnByb3RvdHlwZS5iaW5kU2VhcmNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50KHRoaXMuc2VhcmNoSW5wdXQsICdpbnB1dCcpLnBpcGUobWFwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMudW5jaGVja0FsbENoZWNrYm94ZXMoKTtcbiAgICAgICAgICAgIGRlYm91bmNlVGltZSgyMDApO1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgRGlnaW1vblZpZXcucHJvdG90eXBlLmJpbmREaWdpbW9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQodGhpcy5kaWdpbW9uTGlzdCwgXCJjbGlja1wiKVxuICAgICAgICAgICAgLnBpcGUobWFwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIHZhciB0aWxlID0gdGFyZ2V0LmNsb3Nlc3QoXCIuZGlnaW1vbi10aWxlXCIpO1xuICAgICAgICAgICAgaWYgKHRpbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodGlsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlkXCIpIHx8ICcwJywgMTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIERpZ2ltb25WaWV3LnByb3RvdHlwZS5iaW5kUmVzZXRDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGZyb21FdmVudCh0aGlzLnJlc2V0QnRuLCAnY2xpY2snKS5waXBlKG1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5jbGVhclNlYXJjaEJhcigpO1xuICAgICAgICAgICAgX3RoaXMudW5jaGVja0FsbENoZWNrYm94ZXMoKTtcbiAgICAgICAgfSkpO1xuICAgIH07XG4gICAgRGlnaW1vblZpZXcucHJvdG90eXBlLmJpbmROYXZpZ2F0aW9uQ2xpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQoZG9jdW1lbnQuYm9keSwgXCJjbGlja1wiKVxuICAgICAgICAgICAgLnBpcGUobWFwKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIHZhciBhcnJvdyA9IHRhcmdldC5jbG9zZXN0KFwiLm5hdmlnYXRpb24tYXJyb3dcIik7XG4gICAgICAgICAgICByZXR1cm4gYXJyb3cgPyBhcnJvdy5nZXRBdHRyaWJ1dGUoXCJkYXRhLWRpcmVjdGlvblwiKSA6IFwiXCI7XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIERpZ2ltb25WaWV3LnByb3RvdHlwZS5iaW5kQ2hlY2tib3hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNoZWNrYm94Q2hhbmdlcyA9IHRoaXMuY2hlY2tCb3hlcy5tYXAoZnVuY3Rpb24gKGNoZWNrYm94KSB7XG4gICAgICAgICAgICByZXR1cm4gZnJvbUV2ZW50KGNoZWNrYm94LCAnY2hhbmdlJykucGlwZShtYXAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNsZWFyU2VhcmNoQmFyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldFNlbGVjdGVkVHlwZXMoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBtZXJnZS5hcHBseSh2b2lkIDAsIGNoZWNrYm94Q2hhbmdlcyk7XG4gICAgfTtcbiAgICBEaWdpbW9uVmlldy5wcm90b3R5cGUuYmluZERpZ2ltb25TZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kaWdpbW9uLWNvbXBhcmUtY2hlY2tib3hcIik7XG4gICAgICAgIGNoZWNrYm94ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hlY2tib3gpIHtcbiAgICAgICAgICAgIGZyb21FdmVudChjaGVja2JveCwgXCJjaGFuZ2VcIikuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBfdGhpcy5nZXRTZWxlY3RlZERpZ2ltb25zKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkLmxlbmd0aCA+IDQpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgY2FuIG9ubHkgc2VsZWN0IHVwIHRvIDQgRGlnaW1vbiBmb3IgY29tcGFyaXNvbi5cIik7XG4gICAgICAgICAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmcm9tRXZlbnQoY2hlY2tib3hlcywgXCJjaGFuZ2VcIikucGlwZShtYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuZ2V0U2VsZWN0ZWREaWdpbW9ucygpLm1hcChOdW1iZXIpOyB9KSk7XG4gICAgfTtcbiAgICBEaWdpbW9uVmlldy5wcm90b3R5cGUuYmluZENvbXBhcmVDbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZyb21FdmVudCh0aGlzLmNvbXBhcmVCdG4sIFwiY2xpY2tcIik7XG4gICAgfTtcbiAgICBEaWdpbW9uVmlldy5wcm90b3R5cGUuYmluZFNjcm9sbFRvVG9wQnV0dG9uRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuc2Nyb2xsVG9Ub3BCdG4pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciBzY3JvbGwkID0gZnJvbUV2ZW50KHdpbmRvdywgJ3Njcm9sbCcpLnBpcGUodGhyb3R0bGVUaW1lKDIwMCksIG1hcChmdW5jdGlvbiAoKSB7IHJldHVybiB3aW5kb3cuc2Nyb2xsWSA+IDMwMDsgfSkpO1xuICAgICAgICBzY3JvbGwkLnN1YnNjcmliZShmdW5jdGlvbiAoaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMuc2Nyb2xsVG9Ub3BCdG4pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zY3JvbGxUb1RvcEJ0bi5zdHlsZS5kaXNwbGF5ID0gaXNWaXNpYmxlID8gJ2Jsb2NrJyA6ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBjbGljayQgPSBmcm9tRXZlbnQodGhpcy5zY3JvbGxUb1RvcEJ0biwgJ2NsaWNrJyk7XG4gICAgICAgIGNsaWNrJC5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy9SZW5kZXIgYmxvY2tcbiAgICBEaWdpbW9uVmlldy5wcm90b3R5cGUucmVuZGVyRGlnaW1vbnMgPSBmdW5jdGlvbiAoZGlnaW1vbnMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5kaWdpbW9uTGlzdC5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBkaWdpbW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChkaWdpbW9uKSB7XG4gICAgICAgICAgICB2YXIgZGlnaW1vblRpbGUgPSBjcmVhdGVEaWdpbW9uVGlsZShkaWdpbW9uKTtcbiAgICAgICAgICAgIF90aGlzLmRpZ2ltb25MaXN0LmFwcGVuZENoaWxkKGRpZ2ltb25UaWxlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEaWdpbW9uVmlldy5wcm90b3R5cGUucmVuZGVyRGlnaW1vbkRldGFpbCA9IGZ1bmN0aW9uIChkaWdpbW9uKSB7XG4gICAgICAgIHRoaXMuZGlnaW1vbkxpc3QuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgdGhpcy51bmNoZWNrQWxsQ2hlY2tib3hlcygpO1xuICAgICAgICB0aGlzLmNsZWFyU2VhcmNoQmFyKCk7XG4gICAgICAgIHZhciBkaWdpbW9uRGV0YWlsID0gY3JlYXRlRGlnaW1vbkRldGFpbChkaWdpbW9uKTtcbiAgICAgICAgdGhpcy5kaWdpbW9uTGlzdC5hcHBlbmRDaGlsZChkaWdpbW9uRGV0YWlsKTtcbiAgICB9O1xuICAgIERpZ2ltb25WaWV3LnByb3RvdHlwZS5zaG93Q29tcGFyZU1vZGFsID0gZnVuY3Rpb24gKGRpZ2ltb25JZHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1vZGFsT3ZlcmxheSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG1vZGFsT3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwibW9kYWwtb3ZlcmxheVwiKTtcbiAgICAgICAgdmFyIGRpZ2ltb25PYnNlcnZhYmxlcyA9IGRpZ2ltb25JZHMubWFwKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gRGlnaW1vbi5mZXRjaEJ5SWQoaWQpOyB9KTtcbiAgICAgICAgZm9ya0pvaW4oZGlnaW1vbk9ic2VydmFibGVzKS5zdWJzY3JpYmUoZnVuY3Rpb24gKGRpZ2ltb25zKSB7XG4gICAgICAgICAgICB2YXIgbW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgbW9kYWxDb250YWluZXIuY2xhc3NMaXN0LmFkZChcIm1vZGFsLWNvbnRhaW5lclwiKTtcbiAgICAgICAgICAgIGRpZ2ltb25zLmZvckVhY2goZnVuY3Rpb24gKGRpZ2ltb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlnaW1vbkNhcmQgPSBjcmVhdGVEaWdpbW9uQ29tcGFyZVRpbGUoZGlnaW1vbik7XG4gICAgICAgICAgICAgICAgbW9kYWxDb250YWluZXIuYXBwZW5kQ2hpbGQoZGlnaW1vbkNhcmQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2xvc2VCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgY2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZChcIm1vZGFsLWNsb3NlLWJ1dHRvblwiKTtcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uLnRleHRDb250ZW50ID0gXCJYXCI7XG4gICAgICAgICAgICBtb2RhbENvbnRhaW5lci5hcHBlbmRDaGlsZChjbG9zZUJ1dHRvbik7XG4gICAgICAgICAgICBtb2RhbE92ZXJsYXkuYXBwZW5kQ2hpbGQobW9kYWxDb250YWluZXIpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtb2RhbE92ZXJsYXkpO1xuICAgICAgICAgICAgbW9kYWxPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICBmcm9tRXZlbnQoY2xvc2VCdXR0b24sIFwiY2xpY2tcIikuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmNsb3NlTW9kYWwobW9kYWxPdmVybGF5KTsgfSk7XG4gICAgICAgICAgICBmcm9tRXZlbnQobW9kYWxPdmVybGF5LCBcImNsaWNrXCIpLnN1YnNjcmliZShmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSBtb2RhbE92ZXJsYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY2xvc2VNb2RhbChtb2RhbE92ZXJsYXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERpZ2ltb25WaWV3LnByb3RvdHlwZS5jbG9zZU1vZGFsID0gZnVuY3Rpb24gKG1vZGFsT3ZlcmxheSkge1xuICAgICAgICBtb2RhbE92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG1vZGFsT3ZlcmxheSk7XG4gICAgICAgIHZhciBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5kaWdpbW9uLWNvbXBhcmUtY2hlY2tib3hcIik7XG4gICAgICAgIGNoZWNrYm94ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hlY2tib3gpIHtcbiAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvL0hlbHBlciBmdW5jdGlvbiBibG9ja1xuICAgIERpZ2ltb25WaWV3LnByb3RvdHlwZS5nZXREaWdpbW9uTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlnaW1vbkxpc3Q7XG4gICAgfTtcbiAgICBEaWdpbW9uVmlldy5wcm90b3R5cGUuYWRkQ2hlY2tCb3hlcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHR5cGVzID0gW1xuICAgICAgICAgICAgJ1NsaW1lJywgJ0xlc3NlcicsICdSZXB0aWxlJywgJ0Rpbm9zYXVyJywgJ0N5Ym9yZycsXG4gICAgICAgICAgICAnRHJhZ29uIE1hbicsICdCaXJkJywgJ0JlYXN0JywgJ0ZhaXJ5JywgJ1BsYW50JywgJ0luc2VjdCcsXG4gICAgICAgICAgICAnU2VhIEFuaW1hbCcsICdNYW1tYWwnLCAnQW5nZWwnLCAnSG9seSBCZWFzdCcsICdIb2x5IERyYWdvbicsICdTZXJhcGgnXG4gICAgICAgIF07XG4gICAgICAgIHR5cGVzLmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcbiAgICAgICAgICAgIHZhciBjaGVja2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICAgICAgICAgIGNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgICAgICAgICBjaGVja2JveC52YWx1ZSA9IHR5cGU7XG4gICAgICAgICAgICBjaGVja2JveC5uYW1lID0gdHlwZTtcbiAgICAgICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICAgICAgICAgIGxhYmVsLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHR5cGUpKTtcbiAgICAgICAgICAgIF90aGlzLmNoZWNrQm94Q29udGFpbmVyLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgICAgIF90aGlzLmNoZWNrQm94ZXMucHVzaChjaGVja2JveCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGlnaW1vblZpZXcucHJvdG90eXBlLmdldFNlbGVjdGVkVHlwZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrQm94ZXNcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGNoZWNrQm94KSB7IHJldHVybiBjaGVja0JveC5jaGVja2VkOyB9KVxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoY2hlY2tCb3gpIHsgcmV0dXJuIGNoZWNrQm94LnZhbHVlOyB9KTtcbiAgICB9O1xuICAgIERpZ2ltb25WaWV3LnByb3RvdHlwZS5jbGVhclNlYXJjaEJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zZWFyY2hJbnB1dC52YWx1ZSA9ICcnO1xuICAgIH07XG4gICAgRGlnaW1vblZpZXcucHJvdG90eXBlLnVuY2hlY2tBbGxDaGVja2JveGVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNoZWNrQm94ZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hlY2tib3gpIHtcbiAgICAgICAgICAgIGNoZWNrYm94LmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEaWdpbW9uVmlldy5wcm90b3R5cGUuZ2V0U2VsZWN0ZWREaWdpbW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkRGlnaW1vbnMgPSBbXTtcbiAgICAgICAgdmFyIGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRpZ2ltb24tY29tcGFyZS1jaGVja2JveFwiKTtcbiAgICAgICAgY2hlY2tib3hlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGVja2JveCkge1xuICAgICAgICAgICAgdmFyIGlucHV0RWxlbWVudCA9IGNoZWNrYm94O1xuICAgICAgICAgICAgaWYgKGlucHV0RWxlbWVudC5jaGVja2VkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpZ2ltb25JZCA9IGlucHV0RWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcbiAgICAgICAgICAgICAgICBpZiAoZGlnaW1vbklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRGlnaW1vbnMucHVzaChkaWdpbW9uSWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZWxlY3RlZERpZ2ltb25zO1xuICAgIH07XG4gICAgcmV0dXJuIERpZ2ltb25WaWV3O1xufSgpKTtcbmV4cG9ydCB7IERpZ2ltb25WaWV3IH07XG4iLCJpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZVRpbWUoZHVlVGltZSwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jU2NoZWR1bGVyOyB9XG4gICAgcmV0dXJuIG9wZXJhdGUoZnVuY3Rpb24gKHNvdXJjZSwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgYWN0aXZlVGFzayA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFRpbWUgPSBudWxsO1xuICAgICAgICB2YXIgZW1pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChhY3RpdmVUYXNrKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGFzay51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sgPSBudWxsO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxhc3RWYWx1ZTtcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBudWxsO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZ1bmN0aW9uIGVtaXRXaGVuSWRsZSgpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRUaW1lID0gbGFzdFRpbWUgKyBkdWVUaW1lO1xuICAgICAgICAgICAgdmFyIG5vdyA9IHNjaGVkdWxlci5ub3coKTtcbiAgICAgICAgICAgIGlmIChub3cgPCB0YXJnZXRUaW1lKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGFzayA9IHRoaXMuc2NoZWR1bGUodW5kZWZpbmVkLCB0YXJnZXRUaW1lIC0gbm93KTtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmFkZChhY3RpdmVUYXNrKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbWl0KCk7XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlLnN1YnNjcmliZShjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIoc3Vic2NyaWJlciwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gc2NoZWR1bGVyLm5vdygpO1xuICAgICAgICAgICAgaWYgKCFhY3RpdmVUYXNrKSB7XG4gICAgICAgICAgICAgICAgYWN0aXZlVGFzayA9IHNjaGVkdWxlci5zY2hlZHVsZShlbWl0V2hlbklkbGUsIGR1ZVRpbWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGFjdGl2ZVRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBlbWl0KCk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGFzdFZhbHVlID0gYWN0aXZlVGFzayA9IG51bGw7XG4gICAgICAgIH0pKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYm91bmNlVGltZS5qcy5tYXAiLCJpbXBvcnQgeyBEaWdpbW9uQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXJzL0RpZ2ltb25Db250cm9sbGVyXCI7XG5pbXBvcnQgeyBEaWdpbW9uVmlldyB9IGZyb20gXCIuL3ZpZXdzL0RpZ2ltb25WaWV3XCI7XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHZpZXcgPSBuZXcgRGlnaW1vblZpZXcoZG9jdW1lbnQuYm9keSk7XG4gICAgbmV3IERpZ2ltb25Db250cm9sbGVyKHZpZXcpO1xufSk7XG4iXSwibmFtZXMiOlsiZXh0ZW5kU3RhdGljcyIsImQiLCJiIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJfX2V4dGVuZHMiLCJUeXBlRXJyb3IiLCJTdHJpbmciLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsInQiLCJnIiwiXyIsImxhYmVsIiwic2VudCIsInRyeXMiLCJvcHMiLCJuZXh0IiwidmVyYiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibiIsInYiLCJvcCIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsImxlbmd0aCIsInB1c2giLCJlIiwic3RlcCIsIl9fdmFsdWVzIiwibyIsInMiLCJtIiwiaSIsIl9fcmVhZCIsInIiLCJhciIsImVycm9yIiwiX19zcHJlYWRBcnJheSIsInRvIiwiZnJvbSIsInBhY2siLCJhcmd1bWVudHMiLCJsIiwic2xpY2UiLCJjb25jYXQiLCJfX2F3YWl0IiwiU3VwcHJlc3NlZEVycm9yIiwiaXNBcnJheUxpa2UiLCJ4IiwiaXNGdW5jdGlvbiIsImlzUHJvbWlzZSIsInRoZW4iLCJjdG9yRnVuYyIsIlVuc3Vic2NyaXB0aW9uRXJyb3IiLCJlcnJvcnMiLCJpbnN0YW5jZSIsIkVycm9yIiwic3RhY2siLCJtZXNzYWdlIiwibWFwIiwiZXJyIiwidG9TdHJpbmciLCJqb2luIiwibmFtZSIsImFyclJlbW92ZSIsImFyciIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJTdWJzY3JpcHRpb24iLCJpbml0aWFsVGVhcmRvd24iLCJjbG9zZWQiLCJfcGFyZW50YWdlIiwiX2ZpbmFsaXplcnMiLCJ1bnN1YnNjcmliZSIsImVfMSIsIl9hIiwiZV8yIiwiX2IiLCJpc0FycmF5IiwiX3BhcmVudGFnZV8xIiwiX3BhcmVudGFnZV8xXzEiLCJyZW1vdmUiLCJlXzFfMSIsInJldHVybiIsImluaXRpYWxGaW5hbGl6ZXIiLCJfZmluYWxpemVyc18xIiwiX2ZpbmFsaXplcnNfMV8xIiwiZmluYWxpemVyIiwiZXhlY0ZpbmFsaXplciIsImVfMl8xIiwiYWRkIiwidGVhcmRvd24iLCJfaGFzUGFyZW50IiwiX2FkZFBhcmVudCIsInBhcmVudCIsImluY2x1ZGVzIiwiX3JlbW92ZVBhcmVudCIsIkVNUFRZIiwiZW1wdHkiLCJpc1N1YnNjcmlwdGlvbiIsImNvbmZpZyIsIm9uVW5oYW5kbGVkRXJyb3IiLCJvblN0b3BwZWROb3RpZmljYXRpb24iLCJQcm9taXNlIiwidW5kZWZpbmVkIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsInVzZURlcHJlY2F0ZWROZXh0Q29udGV4dCIsInRpbWVvdXRQcm92aWRlciIsInNldFRpbWVvdXQiLCJoYW5kbGVyIiwidGltZW91dCIsImFyZ3MiLCJfaSIsImRlbGVnYXRlIiwiYXBwbHkiLCJjbGVhclRpbWVvdXQiLCJoYW5kbGUiLCJyZXBvcnRVbmhhbmRsZWRFcnJvciIsIm5vb3AiLCJDT01QTEVURV9OT1RJRklDQVRJT04iLCJjcmVhdGVOb3RpZmljYXRpb24iLCJraW5kIiwiY29udGV4dCIsIlN1YnNjcmliZXIiLCJfc3VwZXIiLCJkZXN0aW5hdGlvbiIsIl90aGlzIiwiaXNTdG9wcGVkIiwiRU1QVFlfT0JTRVJWRVIiLCJjb21wbGV0ZSIsIlNhZmVTdWJzY3JpYmVyIiwiaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbiIsIm5leHROb3RpZmljYXRpb24iLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl9iaW5kIiwiRnVuY3Rpb24iLCJiaW5kIiwiZm4iLCJDb25zdW1lck9ic2VydmVyIiwicGFydGlhbE9ic2VydmVyIiwiaGFuZGxlVW5oYW5kbGVkRXJyb3IiLCJvYnNlcnZlck9yTmV4dCIsImNvbnRleHRfMSIsImVycm9yVGhyb3duIiwibm90aWZpY2F0aW9uIiwic3Vic2NyaWJlciIsIm9ic2VydmFibGUiLCJpZGVudGl0eSIsIk9ic2VydmFibGUiLCJzdWJzY3JpYmUiLCJfc3Vic2NyaWJlIiwibGlmdCIsIm9wZXJhdG9yIiwic291cmNlIiwiaXNPYnNlcnZlciIsImNiIiwiaXNSb290IiwiZXJyb3JDb250ZXh0IiwiX3RyeVN1YnNjcmliZSIsInNpbmsiLCJmb3JFYWNoIiwicHJvbWlzZUN0b3IiLCJnZXRQcm9taXNlQ3RvciIsInJlc29sdmUiLCJyZWplY3QiLCJwaXBlIiwib3BlcmF0aW9ucyIsImZucyIsImlucHV0IiwicmVkdWNlIiwicHJldiIsInRvUHJvbWlzZSIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJpc0FzeW5jSXRlcmFibGUiLCJvYmoiLCJhc3luY0l0ZXJhdG9yIiwiY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IiLCJpc0l0ZXJhYmxlIiwicmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvciIsInJlYWRhYmxlU3RyZWFtIiwiX2FyZ3VtZW50cyIsImdlbmVyYXRvciIsInEiLCJhIiwicmVzdW1lIiwiZnVsZmlsbCIsInNldHRsZSIsInNoaWZ0IiwiX19hc3luY0dlbmVyYXRvciIsInJlYWRlciIsImdldFJlYWRlciIsInJlYWQiLCJyZWxlYXNlTG9jayIsImlzUmVhZGFibGVTdHJlYW1MaWtlIiwiaW5uZXJGcm9tIiwib2JzIiwiYXJyYXkiLCJwcm9taXNlIiwiZnJvbUFzeW5jSXRlcmFibGUiLCJpdGVyYWJsZSIsIml0ZXJhYmxlXzEiLCJpdGVyYWJsZV8xXzEiLCJhc3luY0l0ZXJhYmxlIiwiYXN5bmNJdGVyYWJsZV8xIiwiYXN5bmNJdGVyYWJsZV8xXzEiLCJQIiwiX19hc3luY1ZhbHVlcyIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwicmVzdWx0IiwicHJvY2VzcyIsImNhdGNoIiwib3BlcmF0ZSIsImluaXQiLCJoYXNMaWZ0IiwibGlmdGVkU291cmNlIiwiY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIiwib25OZXh0Iiwib25Db21wbGV0ZSIsIm9uRXJyb3IiLCJvbkZpbmFsaXplIiwiT3BlcmF0b3JTdWJzY3JpYmVyIiwic2hvdWxkVW5zdWJzY3JpYmUiLCJjbG9zZWRfMSIsInN3aXRjaE1hcCIsInByb2plY3QiLCJyZXN1bHRTZWxlY3RvciIsImlubmVyU3Vic2NyaWJlciIsImlzQ29tcGxldGUiLCJjaGVja0NvbXBsZXRlIiwiaW5uZXJJbmRleCIsIm91dGVySW5kZXgiLCJpbm5lclZhbHVlIiwiZXhlY3V0ZVNjaGVkdWxlIiwicGFyZW50U3Vic2NyaXB0aW9uIiwic2NoZWR1bGVyIiwid29yayIsImRlbGF5IiwicmVwZWF0Iiwic2NoZWR1bGVTdWJzY3JpcHRpb24iLCJzY2hlZHVsZSIsIm9ic2VydmVPbiIsInN1YnNjcmliZU9uIiwic2NoZWR1bGVBc3luY0l0ZXJhYmxlIiwic2NoZWR1bGVPYnNlcnZhYmxlIiwic2NoZWR1bGVBcnJheSIsInNjaGVkdWxlUHJvbWlzZSIsInNjaGVkdWxlSXRlcmFibGUiLCJzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSIsInNjaGVkdWxlZCIsIkRpZ2ltb24iLCJkYXRhIiwiaWQiLCJpbWFnZSIsImxldmVsIiwiYXR0cmlidXRlIiwidHlwZSIsInByZXZFdm9sdXRpb25zIiwibmV4dEV2b2x1dGlvbnMiLCJmZXRjaEJ5TmFtZSIsInNlYXJjaFRlcm0iLCJmZXRjaCIsInJlc3BvbnNlIiwianNvbiIsImRpZ2ltb25zIiwiZmlsdGVyIiwiZGlnaW1vbiIsInRvTG93ZXJDYXNlIiwiZGlnaW1vbkRhdGEiLCJmZXRjaEJ5SWQiLCJmZXRjaFNpbmdsZUJ5TmFtZSIsImZpbmQiLCJnZXRQcmV2aW91c0V2b2x1dGlvbnMiLCJnZXROZXh0RXZvbHV0aW9ucyIsImlzU2NoZWR1bGVyIiwibGFzdCIsInBvcFNjaGVkdWxlciIsIm9mIiwiRGlnaW1vbkNvbnRyb2xsZXIiLCJ2aWV3IiwiYmluZFNlYXJjaCIsInJlbmRlckRpZ2ltb25zIiwiYmluZERpZ2ltb25TZWxlY3Rpb25BZnRlclJlbmRlciIsImJpbmRSZXNldENsaWNrIiwiYmluZENoZWNrYm94ZXMiLCJ0eXBlcyIsImZldGNoQnlUeXBlcyIsImZldGNoQWxsRGlnaW1vbnMiLCJiaW5kRGlnaW1vbkNsaWNrIiwicmVuZGVyRGlnaW1vbkRldGFpbCIsImJpbmROYXZpZ2F0aW9uQ2xpY2siLCJkaXJlY3Rpb24iLCJnZXRDdXJyZW50RGlnaW1vbiIsImdldEV2b2x1dGlvbkRpZ2ltb24iLCJiaW5kQ29tcGFyZUNsaWNrIiwic2VsZWN0ZWREaWdpbW9ucyIsImdldFNlbGVjdGVkRGlnaW1vbnMiLCJzZWxlY3RlZERpZ2ltb25JZHNBc051bWJlcnMiLCJOdW1iZXIiLCJzaG93Q29tcGFyZU1vZGFsIiwiYWxlcnQiLCJiaW5kU2Nyb2xsVG9Ub3BCdXR0b25FdmVudHMiLCJzZWxlY3RlZERpZ2ltb24kIiwiYmluZERpZ2ltb25TZWxlY3Rpb24iLCJkZXRhaWxFbGVtZW50IiwiZ2V0RGlnaW1vbkxpc3QiLCJxdWVyeVNlbGVjdG9yIiwiY3VycmVudERpZ2ltb25JZCIsInBhcnNlSW50IiwiZ2V0QXR0cmlidXRlIiwiZXZvbHV0aW9uTmFtZXMiLCJldm9sdXRpb25OYW1lIiwiaGFuZGxlQ29tcGFyaXNvbiIsIm1lcmdlTWFwIiwiY29uY3VycmVudCIsIkluZmluaXR5IiwiaWkiLCJvbkJlZm9yZU5leHQiLCJleHBhbmQiLCJpbm5lclN1YlNjaGVkdWxlciIsImFkZGl0aW9uYWxGaW5hbGl6ZXIiLCJidWZmZXIiLCJhY3RpdmUiLCJvdXRlck5leHQiLCJkb0lubmVyU3ViIiwiaW5uZXJDb21wbGV0ZSIsImJ1ZmZlcmVkVmFsdWUiLCJtZXJnZUludGVybmFscyIsIm1hcE9uZU9yTWFueUFyZ3MiLCJjYWxsT3JBcHBseSIsIm5vZGVFdmVudEVtaXR0ZXJNZXRob2RzIiwiZXZlbnRUYXJnZXRNZXRob2RzIiwianF1ZXJ5TWV0aG9kcyIsImZyb21FdmVudCIsInRhcmdldCIsImV2ZW50TmFtZSIsIm9wdGlvbnMiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzRXZlbnRUYXJnZXQiLCJtZXRob2ROYW1lIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyIiwidG9Db21tb25IYW5kbGVyUmVnaXN0cnkiLCJvbiIsIm9mZiIsImlzSlF1ZXJ5U3R5bGVFdmVudEVtaXR0ZXIiLCJzdWJUYXJnZXQiLCJtZXJnZSIsImRlZmF1bHRWYWx1ZSIsInBvcE51bWJlciIsInNvdXJjZXMiLCJtZXJnZUFsbCIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0UHJvdG8iLCJnZXRLZXlzIiwia2V5cyIsImZvcmtKb2luIiwicG9wUmVzdWx0U2VsZWN0b3IiLCJmaXJzdF8xIiwia2V5IiwiYXJnc0FyZ0FycmF5T3JPYmplY3QiLCJ2YWx1ZXMiLCJyZW1haW5pbmdDb21wbGV0aW9ucyIsInJlbWFpbmluZ0VtaXNzaW9ucyIsIl9sb29wXzEiLCJzb3VyY2VJbmRleCIsImhhc1ZhbHVlIiwiY3JlYXRlT2JqZWN0IiwiQWN0aW9uIiwic3RhdGUiLCJpbnRlcnZhbFByb3ZpZGVyIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiQXN5bmNBY3Rpb24iLCJwZW5kaW5nIiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsIl9pZCIsImZsdXNoIiwiX3NjaGVkdWxlciIsImV4ZWN1dGUiLCJfZXhlY3V0ZSIsIl9kZWxheSIsImVycm9yVmFsdWUiLCJlcnJvcmVkIiwiYWN0aW9ucyIsImRhdGVUaW1lc3RhbXBQcm92aWRlciIsIm5vdyIsIkRhdGUiLCJTY2hlZHVsZXIiLCJzY2hlZHVsZXJBY3Rpb25DdG9yIiwiYXN5bmNTY2hlZHVsZXIiLCJBc3luY1NjaGVkdWxlciIsIlNjaGVkdWxlckFjdGlvbiIsIl9hY3RpdmUiLCJhY3Rpb24iLCJ0aHJvdHRsZVRpbWUiLCJkdXJhdGlvbiIsImR1cmF0aW9uJCIsImR1ZVRpbWUiLCJpbnRlcnZhbE9yU2NoZWR1bGVyIiwiaW50ZXJ2YWxEdXJhdGlvbiIsImR1ZSIsImlzTmFOIiwidGltZXIiLCJkdXJhdGlvblNlbGVjdG9yIiwibGVhZGluZyIsIl9jIiwidHJhaWxpbmciLCJzZW5kVmFsdWUiLCJ0aHJvdHRsZWQiLCJlbmRUaHJvdHRsaW5nIiwic2VuZCIsImNsZWFudXBUaHJvdHRsaW5nIiwic3RhcnRUaHJvdHRsZSIsInRocm90dGxlIiwiRGlnaW1vblZpZXciLCJjb250YWluZXIiLCJjaGVja0JveGVzIiwiZGlnaW1vbkxpc3QiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJzZWFyY2hDb250YWluZXIiLCJyZXNldEljb24iLCJyZXNldEJ0biIsImFwcGVuZENoaWxkIiwic2VhcmNoSW5wdXQiLCJwbGFjZWhvbGRlciIsImNvbXBhcmVCdG4iLCJpbm5lckhUTUwiLCJjaGVja0JveENvbnRhaW5lciIsImFkZENoZWNrQm94ZXMiLCJzY3JvbGxUb1RvcEJ0biIsImlubmVyVGV4dCIsInN0eWxlIiwiZGlzcGxheSIsImV2ZW50IiwidW5jaGVja0FsbENoZWNrYm94ZXMiLCJhY3RpdmVUYXNrIiwibGFzdFZhbHVlIiwibGFzdFRpbWUiLCJlbWl0IiwiZW1pdFdoZW5JZGxlIiwidGFyZ2V0VGltZSIsInRpbGUiLCJjbG9zZXN0IiwiY2xlYXJTZWFyY2hCYXIiLCJhcnJvdyIsImNoZWNrYm94Q2hhbmdlcyIsImNoZWNrYm94IiwiZ2V0U2VsZWN0ZWRUeXBlcyIsImNoZWNrYm94ZXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY2hlY2tlZCIsIndpbmRvdyIsInNjcm9sbFkiLCJpc1Zpc2libGUiLCJzY3JvbGxUbyIsInRvcCIsImJlaGF2aW9yIiwiZGlnaW1vblRpbGUiLCJzZXRBdHRyaWJ1dGUiLCJkaWdpbW9uSW1nIiwic3JjIiwiYWx0IiwiZGlnaW1vbk5hbWUiLCJ0ZXh0Q29udGVudCIsImxhYmVsV3JhcHBlciIsImNoZWNrYm94Q29tcGFyZSIsImNvbXBhcmVUZXh0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY3JlYXRlRGlnaW1vblRpbGUiLCJkaWdpbW9uRGV0YWlsIiwiYXR0cmlidXRlc0NvbnRhaW5lciIsImNvbnQiLCJhdHRyaWJ1dGVMYWJlbCIsImF0dHJpYnV0ZVZhbHVlIiwiY3JlYXRlQXR0cmlidXRlIiwicHJldkFycm93IiwibmV4dEFycm93IiwiY3JlYXRlRGlnaW1vbkRldGFpbCIsImRpZ2ltb25JZHMiLCJtb2RhbE92ZXJsYXkiLCJtb2RhbENvbnRhaW5lciIsImRpZ2ltb25DYXJkIiwiZGlnaW1vbkxldmVsIiwiZGlnaW1vbkF0dHJpYnV0ZSIsImRpZ2ltb25UeXBlIiwiY3JlYXRlRGlnaW1vbkNvbXBhcmVUaWxlIiwiY2xvc2VCdXR0b24iLCJjbG9zZU1vZGFsIiwicmVtb3ZlQ2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImNoZWNrQm94IiwiaW5wdXRFbGVtZW50IiwiZGlnaW1vbklkIl0sInNvdXJjZVJvb3QiOiIifQ==